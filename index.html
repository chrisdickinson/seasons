<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Seasons by chrisdickinson</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <link rel="stylesheet" href="media/css/seasons.css">
    <script src="javascripts/scale.fix.js"></script>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->

    <style>
        #control { position:fixed; border:1px solid #D7D8C8; border-radius:4px; top:100px; right:30px; padding:30px; }
        #control label { font-family:Arvo, Monaco, serif; color:#232323; font-size:1.2em; }
    </style>
  </head>
  <body>
    <span></span>
    <div class="wrapper">
      <header>
        <h1 class="header">Seasons</h1>
        <p class="header">Display code over time.</p>
        <ul>
          <li class="download"><a class="buttons" href="https://github.com/chrisdickinson/seasons/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/chrisdickinson/seasons/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/chrisdickinson/seasons">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/chrisdickinson">chrisdickinson</a></p>


      </header>
      <section>
        <h1>Seasons.js</h1>

        <div id="control">
        <label for="range">Use the slider to walk through history!<br />
        </label>
        <input id="range" type="range" min="0" max="100" value="0" />
        <select id="which">
            <option value="DJANGO_DATA">django/utils/dates.py</option>
            <option value="NODE_DATA">node/lib/zlib.js</option>
        </select>
        </div>
        <pre id="example" class="seasons">
        </pre>

<p>View changes to a file over time.</p>

<h2>Installation</h2>

<p>To generate data:</p>

<pre><code>    npm install -g seasons
    build_seasons ../../path/to/some/file/in/some/repo
    # should create an `output.json` in your cwd.
</code></pre>

<p>To use in-browser with require:</p>

<div class="highlight">
<pre>    <span class="nt">&lt;link</span> <span class="na">rel=</span><span class="s">"stylesheet"</span> <span class="na">href=</span><span class="s">"https://chrisdickinson.github.com/seasons/media/css/seasons.css"</span> <span class="nt">/&gt;</span>
    <span class="nt">&lt;script </span><span class="na">type=</span><span class="s">"javascript"</span><span class="nt">&gt;</span>
    <span class="nx">require</span><span class="p">.</span><span class="nx">config</span><span class="p">({</span><span class="nx">paths</span><span class="o">:</span><span class="p">{</span><span class="nx">seasons</span><span class="o">:</span><span class="s1">'https://chrisdickinson.github.com/seasons/media/js/seasons.min'</span><span class="p">}})</span>
    <span class="nx">require</span><span class="p">([</span><span class="s1">'seasons'</span><span class="p">],</span> <span class="kd">function</span><span class="p">(</span><span class="nx">seasons</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">seasons</span><span class="p">(</span><span class="s1">'#id'</span><span class="p">,</span> <span class="p">{</span><span class="nx">data</span><span class="p">})</span>
    <span class="p">})</span>
    <span class="nt">&lt;/script&gt;</span>
</pre>
</div>


<p>And it should work with <a href="https://github.com/substack/browserify">browserify</a> too.</p>

<h2>API</h2>

<h3>seasons = require('seasons') -&gt; function</h3>

<p>Returns the <code>seasons</code> function.</p>

<h3>seasons(id, data[, lineHeight][, highlighter]) -&gt; function</h3>

<p>Given commit data and a DOM id, display the code contained in <code>data</code>.</p>

<h2>Building Seasons data</h2>

<div class="highlight">
<pre>    build_seasons ../../path/to/some/file/in/some/repo
    <span class="c"># should create an `output.json` in your cwd.</span>
</pre>
</div>

      </section>
      <footer>
        <p><small>Hosted on <a href="https://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <script type="text/javascript">
        NODE_DATA =
 
[{"idx":0,"commit":"1e0ce5d1bdf364bf6eca821635e3ae8e65807667","msg":"domain: the EventEmitter constructor is now always called in nodecore","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"60b427c38d718c64290fb616f5d2bd5d2c03646c","line":"var Stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"303680c57090cb7f41b0305cdd92b3ce788104d2","line":"// translation table for return codes.","num":53},{"hash":"d2690126cbf2bec77fb3b3c5edc3c54dcbf585aa","line":"exports.codes = {","num":54},{"hash":"a97e4e81b1019715add6003a50d484c20aab3617","line":"  Z_OK: binding.Z_OK,","num":55},{"hash":"dd143b62bc0d0e78673404cf2efa93d64be351a5","line":"  Z_STREAM_END: binding.Z_STREAM_END,","num":56},{"hash":"fbd1c070eb405bea269a10a65a9fb1cdf09eabe4","line":"  Z_NEED_DICT: binding.Z_NEED_DICT,","num":57},{"hash":"1f420b64da1caabdab5ffe7636753cac423db31e","line":"  Z_ERRNO: binding.Z_ERRNO,","num":58},{"hash":"1d2a0b7bad3d00285b5cdcbc985a59780e13e163","line":"  Z_STREAM_ERROR: binding.Z_STREAM_ERROR,","num":59},{"hash":"0e97bdef1e9ae48ffbe929607a45bdfa6f0ae420","line":"  Z_DATA_ERROR: binding.Z_DATA_ERROR,","num":60},{"hash":"9ba2fabb59e2fb15406b72c79472906f2f77fbee","line":"  Z_MEM_ERROR: binding.Z_MEM_ERROR,","num":61},{"hash":"e4181b2fe33cdb6741f4b4f302e6ec0474391159","line":"  Z_BUF_ERROR: binding.Z_BUF_ERROR,","num":62},{"hash":"e40a3167cb2d4742e8c82c0bc0fd5f9de8564853","line":"  Z_VERSION_ERROR: binding.Z_VERSION_ERROR","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"05183f4219fd037f071fd16af6612f971ffc1bc3","line":"Object.keys(exports.codes).forEach(function(k) {","num":66},{"hash":"eacd9ce82bdacf770dd657b1d9ef60fc90f5f4a4","line":"  exports.codes[exports.codes[k]] = k;","num":67},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":70},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":71},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":72},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":73},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":74},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":75},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":78},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":82},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":86},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":90},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":91},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":92},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":93},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":94},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":95},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":96},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":97},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":98},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":99},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":100},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":101},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":102},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":103},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":104},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":105},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":106},{"hash":"493e9878a747326a240a21ee4f8de204f0102647","line":"// Convenience methods.","num":107},{"hash":"5707d856530dfaba08e669f217319b486ab0558e","line":"// compress/decompress a string or buffer in one step.","num":108},{"hash":"0088394a0b776f9924f07ba7f0a72cff48ba8a3a","line":"exports.deflate = function(buffer, callback) {","num":109},{"hash":"78e81ea73dd1e7d66c98b4de3452ac8b0f4bdb1f","line":"  zlibBuffer(new Deflate(), buffer, callback);","num":110},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":111},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":112},{"hash":"0e04538e47cfeb5a9e79cf109808155d2fdd6350","line":"exports.gzip = function(buffer, callback) {","num":113},{"hash":"c4399070a304de9a251a6a9b3790de0e96027ca3","line":"  zlibBuffer(new Gzip(), buffer, callback);","num":114},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"0c0f2415fe6064da3e69a8959137f53ed2bf1a26","line":"exports.deflateRaw = function(buffer, callback) {","num":117},{"hash":"bdf4b937002b2e1735b17ce14defebccbfded26c","line":"  zlibBuffer(new DeflateRaw(), buffer, callback);","num":118},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":119},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":120},{"hash":"a5331d57605d6bcc83dce460cfca607a67865bf9","line":"exports.unzip = function(buffer, callback) {","num":121},{"hash":"29685edde0671f050c9a023936b34c0aafc1f30c","line":"  zlibBuffer(new Unzip(), buffer, callback);","num":122},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"a78be292c2e3e1b9fecd50f6275add3751e0a595","line":"exports.inflate = function(buffer, callback) {","num":125},{"hash":"41ae33d60cd51f03044d9f392d6dd83201b7ea45","line":"  zlibBuffer(new Inflate(), buffer, callback);","num":126},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":127},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":128},{"hash":"2a3f36659d5849a2392560462608514be93832d2","line":"exports.gunzip = function(buffer, callback) {","num":129},{"hash":"119592df3dd9648382f168f4dd8269fa0cdd3e1f","line":"  zlibBuffer(new Gunzip(), buffer, callback);","num":130},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":131},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":132},{"hash":"720f77554a2a8990c2ff4441d063b5b6e03d3751","line":"exports.inflateRaw = function(buffer, callback) {","num":133},{"hash":"d928e333a102d657195adb7159a57c71718cb21a","line":"  zlibBuffer(new InflateRaw(), buffer, callback);","num":134},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":135},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":136},{"hash":"fcdccb705c34cd0e8db15cb27f988e8e38e94ac9","line":"function zlibBuffer(engine, buffer, callback) {","num":137},{"hash":"d0884e8e1ed58f237523327938a946ead0deab89","line":"  var buffers = [];","num":138},{"hash":"600d1a75dc03fd1e1795a1aaa5943307111e2731","line":"  var nread = 0;","num":139},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":140},{"hash":"06f74331a0c481f58d695b2a25964e0b8b074dc0","line":"  function onError(err) {","num":141},{"hash":"f2b300375249613c31afd1f824e45ee419473a8b","line":"    engine.removeListener('end', onEnd);","num":142},{"hash":"b103202f04f90fe0e3e9607def19f92f34d3b957","line":"    engine.removeListener('error', onError);","num":143},{"hash":"676614e8d6c57f595e557370e051075e2438fed0","line":"    callback(err);","num":144},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":145},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":146},{"hash":"b8b1f6911b807501db3cc7b09bb28ccdb9c7c426","line":"  function onData(chunk) {","num":147},{"hash":"16b28e2ebd38a79bd4a282ce1a4784dd0f1ba809","line":"    buffers.push(chunk);","num":148},{"hash":"9025de14c79076fd31d72596a43d866f5532d751","line":"    nread += chunk.length;","num":149},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":150},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":151},{"hash":"62742b28ce572588379e087c3cfd0b779fd6805e","line":"  function onEnd() {","num":152},{"hash":"7ae6488d81cecd557d74a9ce979710cf3b67c0af","line":"    callback(null, Buffer.concat(buffers, nread));","num":153},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":154},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":155},{"hash":"8f416e3985daa4841ae84a12dc6ec09be1787e82","line":"  engine.on('error', onError);","num":156},{"hash":"dca7d1e9db8a416dd2bc202f11960d527a4cbb9c","line":"  engine.on('data', onData);","num":157},{"hash":"2c870849d2092f368a32f121e386e50cd3b5bf81","line":"  engine.on('end', onEnd);","num":158},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":159},{"hash":"ff46794fa229e8dc0e843ef8dbef1741f3d477db","line":"  engine.write(buffer);","num":160},{"hash":"521f144127045f6f47cd386de32c4fcd8bf57e04","line":"  engine.end();","num":161},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":162},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":163},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":164},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":165},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":166},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":167},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":168},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":169},{"hash":"0cdb1000407f96f13ae1666a8ecc5b4707a12a92","line":"  Zlib.call(this, opts, binding.DEFLATE);","num":170},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":171},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":172},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":173},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":174},{"hash":"ff86ffbf17e9ffd216714346afacc4525b6be51f","line":"  Zlib.call(this, opts, binding.INFLATE);","num":175},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":176},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":177},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":180},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":181},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":182},{"hash":"fd20c9addb99a4366be6c04f8d2ca28f90382c8d","line":"  Zlib.call(this, opts, binding.GZIP);","num":183},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":184},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":185},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":186},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":187},{"hash":"6cfdc03b86abe0b6b40ac97667a0e476bbd8a276","line":"  Zlib.call(this, opts, binding.GUNZIP);","num":188},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":189},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":190},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":191},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":192},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":193},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":194},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":195},{"hash":"58ff2b70ba9b957b6d28d3e560f12eefdcb167a9","line":"  Zlib.call(this, opts, binding.DEFLATERAW);","num":196},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":197},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":198},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":199},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":200},{"hash":"5f1f9895b762354365a73a74e26399c121e130f1","line":"  Zlib.call(this, opts, binding.INFLATERAW);","num":201},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":202},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":203},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":204},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":205},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":206},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":207},{"hash":"06c13bf5db03505eb88542c347a599071cae6760","line":"  Zlib.call(this, opts, binding.UNZIP);","num":208},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":209},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":210},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":211},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":212},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":213},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":214},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":215},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":216},{"hash":"2736c237bd80be98ef907dabe0e3ea90f4f1c4b2","line":"function Zlib(opts, mode) {","num":217},{"hash":"990c77691d712e1546037352be5bb4327226eaee","line":"  Stream.call(this);","num":218},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":219},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":220},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":221},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":222},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":223},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":224},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":225},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":226},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":227},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":228},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":229},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":230},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":231},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":232},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":233},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":234},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":235},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":236},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":237},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":238},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":239},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":240},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":241},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":242},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":243},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":244},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":245},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":246},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":247},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":248},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":249},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":250},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":251},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":252},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":253},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":254},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":255},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":256},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":257},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":258},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":259},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":260},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":261},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":262},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":263},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":264},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":265},{"hash":"55789098f52782b1dfe380f2dba4bfe83c8a08fd","line":"  if (opts.dictionary) {","num":266},{"hash":"f11d9ce73bbdb224c4eda4b31d9b5afa91cf99b6","line":"    if (!Buffer.isBuffer(opts.dictionary)) {","num":267},{"hash":"3d1011848e07bd598f3bc2a11851d68837bb9303","line":"      throw new Error('Invalid dictionary: it should be a Buffer instance');","num":268},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":269},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"a35e189842bd17446424f183e88db52abbe2990d","line":"  this._binding = new binding.Zlib(mode);","num":272},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":273},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":274},{"hash":"0470741bf3ff364a7b0ccc3e4bb219473cafc7f0","line":"  this._binding.onerror = function(message, errno) {","num":275},{"hash":"19aab28bcc200793e18ded723d891ea28dd90d01","line":"    // there is no way to cleanly recover.","num":276},{"hash":"c00d4ecd61b12a062473fbb7b6f16f713036d91c","line":"    // continuing only obscures problems.","num":277},{"hash":"9938d2c4ca4bc9d831ed88358bc05df4a4c6626c","line":"    self._binding = null;","num":278},{"hash":"40d1a3391859c8178ea3a8caf3045ddc6869c068","line":"    self._hadError = true;","num":279},{"hash":"e2aa8fbb037c27b5c399f371242fc5847ba8edb4","line":"    self._queue.length = 0;","num":280},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":281},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":282},{"hash":"861a0e5c6ee669c7bd7d01ead80fc41b132524f7","line":"    var error = new Error(message);","num":283},{"hash":"d66af53679a75420b46db25143ee932a6802deb3","line":"    error.errno = errno;","num":284},{"hash":"c77d9ad74f86ccf301cb7cc463b5064d4a622bcd","line":"    error.code = exports.codes[errno];","num":285},{"hash":"97dcd363f290f2b5ef1c69110b19ed99d80257b6","line":"    self.emit('error', error);","num":286},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"  };","num":287},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":288},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":289},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":290},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":291},{"hash":"6187cd7afbac27796b9be27cdc39283f437e4775","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY,","num":292},{"hash":"632c2cc1dd5f9cbf15a2bf709f21dd77a06e2524","line":"                     opts.dictionary);","num":293},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":294},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":295},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":296},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":297},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":298},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":299},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":300},{"hash":"b6a7fbdd990857f7d96d7fc1b834ebf2dae386eb","line":"util.inherits(Zlib, Stream);","num":301},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":302},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":303},{"hash":"da7bb5d7ae8f5261bcce9426630830103e3fe0ec","line":"  if (this._hadError) return true;","num":304},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":305},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":306},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":307},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":308},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":309},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":310},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":311},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":312},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":313},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":314},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":315},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":316},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":317},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":318},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":319},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":320},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":321},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":322},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":323},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":324},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":325},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":326},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":327},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":328},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":329},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":330},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":331},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":332},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":333},{"hash":"5e7a91ff48d23f65f9642e493ffc2c59444fecd0","line":"Zlib.prototype.reset = function reset() {","num":334},{"hash":"1f1a0296385c9c957c32ca8cd0172dbc61e77dbb","line":"  return this._binding.reset();","num":335},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":336},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":337},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":338},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":339},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":340},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":341},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":342},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":343},{"hash":"da7bb5d7ae8f5261bcce9426630830103e3fe0ec","line":"  if (this._hadError) return true;","num":344},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":345},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":346},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":347},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":348},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":349},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":350},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":351},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":352},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":353},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":354},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":355},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":356},{"hash":"a8cdab4e4b3bcb1fc080bf0792d9af41b2b38ec5","line":"  if (this._hadError) return;","num":357},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":358},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":359},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":360},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":361},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":362},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":363},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":364},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":365},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":366},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":367},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":368},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":369},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":370},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":371},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":372},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":373},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":374},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":375},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":376},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":377},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":378},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":379},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":380},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":381},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":382},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":383},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":384},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":385},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":386},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":387},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":388},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":389},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":390},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":391},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":392},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":393},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":394},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":395},{"hash":"e415527c77991626bf376f61281baa52d5267a86","line":"    if (self._hadError) return;","num":396},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":397},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":398},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":399},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":400},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":401},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":402},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":403},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":404},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":405},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":406},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":407},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":408},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":409},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":410},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":411},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":412},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":413},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":414},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":415},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":416},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":417},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":418},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":419},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":420},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":421},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":422},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":423},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":424},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":425},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":426},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":427},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":428},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":429},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":430},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":431},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":432},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":433},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":434},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":435},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":436},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":437},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":438},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":439},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":440},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":441},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":442},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":443},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":444},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":445},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":446},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":447},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":448},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":449},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":450},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":451},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":452},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":453},{"hash":"dd43cfcf1f03cd1185e94b19048c89a8b408c6b3","line":"Zlib.prototype.destroy = function() {","num":454},{"hash":"cfeaefc9a94a93f67b84536226a2d8d5fb2b8acf","line":"  this.readable = false;","num":455},{"hash":"202510d829c6a742d68f93060ba80d53fdd9030b","line":"  this.writable = false;","num":456},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":457},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":458},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":459},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":460},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":461},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":462},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":463},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":464},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":465},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":466}]},{"idx":1,"commit":"a111390c566c61074e4452481abf190fd955fa30","msg":"zlib: use Buffer.concat()","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"303680c57090cb7f41b0305cdd92b3ce788104d2","line":"// translation table for return codes.","num":53},{"hash":"d2690126cbf2bec77fb3b3c5edc3c54dcbf585aa","line":"exports.codes = {","num":54},{"hash":"a97e4e81b1019715add6003a50d484c20aab3617","line":"  Z_OK: binding.Z_OK,","num":55},{"hash":"dd143b62bc0d0e78673404cf2efa93d64be351a5","line":"  Z_STREAM_END: binding.Z_STREAM_END,","num":56},{"hash":"fbd1c070eb405bea269a10a65a9fb1cdf09eabe4","line":"  Z_NEED_DICT: binding.Z_NEED_DICT,","num":57},{"hash":"1f420b64da1caabdab5ffe7636753cac423db31e","line":"  Z_ERRNO: binding.Z_ERRNO,","num":58},{"hash":"1d2a0b7bad3d00285b5cdcbc985a59780e13e163","line":"  Z_STREAM_ERROR: binding.Z_STREAM_ERROR,","num":59},{"hash":"0e97bdef1e9ae48ffbe929607a45bdfa6f0ae420","line":"  Z_DATA_ERROR: binding.Z_DATA_ERROR,","num":60},{"hash":"9ba2fabb59e2fb15406b72c79472906f2f77fbee","line":"  Z_MEM_ERROR: binding.Z_MEM_ERROR,","num":61},{"hash":"e4181b2fe33cdb6741f4b4f302e6ec0474391159","line":"  Z_BUF_ERROR: binding.Z_BUF_ERROR,","num":62},{"hash":"e40a3167cb2d4742e8c82c0bc0fd5f9de8564853","line":"  Z_VERSION_ERROR: binding.Z_VERSION_ERROR","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"05183f4219fd037f071fd16af6612f971ffc1bc3","line":"Object.keys(exports.codes).forEach(function(k) {","num":66},{"hash":"eacd9ce82bdacf770dd657b1d9ef60fc90f5f4a4","line":"  exports.codes[exports.codes[k]] = k;","num":67},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":70},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":71},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":72},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":73},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":74},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":75},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":78},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":82},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":86},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":90},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":91},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":92},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":93},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":94},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":95},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":96},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":97},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":98},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":99},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":100},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":101},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":102},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":103},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":104},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":105},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":106},{"hash":"493e9878a747326a240a21ee4f8de204f0102647","line":"// Convenience methods.","num":107},{"hash":"5707d856530dfaba08e669f217319b486ab0558e","line":"// compress/decompress a string or buffer in one step.","num":108},{"hash":"0088394a0b776f9924f07ba7f0a72cff48ba8a3a","line":"exports.deflate = function(buffer, callback) {","num":109},{"hash":"78e81ea73dd1e7d66c98b4de3452ac8b0f4bdb1f","line":"  zlibBuffer(new Deflate(), buffer, callback);","num":110},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":111},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":112},{"hash":"0e04538e47cfeb5a9e79cf109808155d2fdd6350","line":"exports.gzip = function(buffer, callback) {","num":113},{"hash":"c4399070a304de9a251a6a9b3790de0e96027ca3","line":"  zlibBuffer(new Gzip(), buffer, callback);","num":114},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"0c0f2415fe6064da3e69a8959137f53ed2bf1a26","line":"exports.deflateRaw = function(buffer, callback) {","num":117},{"hash":"bdf4b937002b2e1735b17ce14defebccbfded26c","line":"  zlibBuffer(new DeflateRaw(), buffer, callback);","num":118},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":119},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":120},{"hash":"a5331d57605d6bcc83dce460cfca607a67865bf9","line":"exports.unzip = function(buffer, callback) {","num":121},{"hash":"29685edde0671f050c9a023936b34c0aafc1f30c","line":"  zlibBuffer(new Unzip(), buffer, callback);","num":122},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"a78be292c2e3e1b9fecd50f6275add3751e0a595","line":"exports.inflate = function(buffer, callback) {","num":125},{"hash":"41ae33d60cd51f03044d9f392d6dd83201b7ea45","line":"  zlibBuffer(new Inflate(), buffer, callback);","num":126},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":127},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":128},{"hash":"2a3f36659d5849a2392560462608514be93832d2","line":"exports.gunzip = function(buffer, callback) {","num":129},{"hash":"119592df3dd9648382f168f4dd8269fa0cdd3e1f","line":"  zlibBuffer(new Gunzip(), buffer, callback);","num":130},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":131},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":132},{"hash":"720f77554a2a8990c2ff4441d063b5b6e03d3751","line":"exports.inflateRaw = function(buffer, callback) {","num":133},{"hash":"d928e333a102d657195adb7159a57c71718cb21a","line":"  zlibBuffer(new InflateRaw(), buffer, callback);","num":134},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":135},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":136},{"hash":"fcdccb705c34cd0e8db15cb27f988e8e38e94ac9","line":"function zlibBuffer(engine, buffer, callback) {","num":137},{"hash":"d0884e8e1ed58f237523327938a946ead0deab89","line":"  var buffers = [];","num":138},{"hash":"600d1a75dc03fd1e1795a1aaa5943307111e2731","line":"  var nread = 0;","num":139},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":140},{"hash":"06f74331a0c481f58d695b2a25964e0b8b074dc0","line":"  function onError(err) {","num":141},{"hash":"f2b300375249613c31afd1f824e45ee419473a8b","line":"    engine.removeListener('end', onEnd);","num":142},{"hash":"b103202f04f90fe0e3e9607def19f92f34d3b957","line":"    engine.removeListener('error', onError);","num":143},{"hash":"676614e8d6c57f595e557370e051075e2438fed0","line":"    callback(err);","num":144},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":145},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":146},{"hash":"b8b1f6911b807501db3cc7b09bb28ccdb9c7c426","line":"  function onData(chunk) {","num":147},{"hash":"16b28e2ebd38a79bd4a282ce1a4784dd0f1ba809","line":"    buffers.push(chunk);","num":148},{"hash":"9025de14c79076fd31d72596a43d866f5532d751","line":"    nread += chunk.length;","num":149},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":150},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":151},{"hash":"62742b28ce572588379e087c3cfd0b779fd6805e","line":"  function onEnd() {","num":152},{"hash":"7ae6488d81cecd557d74a9ce979710cf3b67c0af","line":"    callback(null, Buffer.concat(buffers, nread));","num":153},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":154},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":155},{"hash":"8f416e3985daa4841ae84a12dc6ec09be1787e82","line":"  engine.on('error', onError);","num":156},{"hash":"dca7d1e9db8a416dd2bc202f11960d527a4cbb9c","line":"  engine.on('data', onData);","num":157},{"hash":"2c870849d2092f368a32f121e386e50cd3b5bf81","line":"  engine.on('end', onEnd);","num":158},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":159},{"hash":"ff46794fa229e8dc0e843ef8dbef1741f3d477db","line":"  engine.write(buffer);","num":160},{"hash":"521f144127045f6f47cd386de32c4fcd8bf57e04","line":"  engine.end();","num":161},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":162},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":163},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":164},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":165},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":166},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":167},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":168},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":169},{"hash":"0cdb1000407f96f13ae1666a8ecc5b4707a12a92","line":"  Zlib.call(this, opts, binding.DEFLATE);","num":170},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":171},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":172},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":173},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":174},{"hash":"ff86ffbf17e9ffd216714346afacc4525b6be51f","line":"  Zlib.call(this, opts, binding.INFLATE);","num":175},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":176},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":177},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":180},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":181},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":182},{"hash":"fd20c9addb99a4366be6c04f8d2ca28f90382c8d","line":"  Zlib.call(this, opts, binding.GZIP);","num":183},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":184},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":185},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":186},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":187},{"hash":"6cfdc03b86abe0b6b40ac97667a0e476bbd8a276","line":"  Zlib.call(this, opts, binding.GUNZIP);","num":188},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":189},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":190},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":191},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":192},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":193},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":194},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":195},{"hash":"58ff2b70ba9b957b6d28d3e560f12eefdcb167a9","line":"  Zlib.call(this, opts, binding.DEFLATERAW);","num":196},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":197},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":198},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":199},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":200},{"hash":"5f1f9895b762354365a73a74e26399c121e130f1","line":"  Zlib.call(this, opts, binding.INFLATERAW);","num":201},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":202},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":203},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":204},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":205},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":206},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":207},{"hash":"06c13bf5db03505eb88542c347a599071cae6760","line":"  Zlib.call(this, opts, binding.UNZIP);","num":208},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":209},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":210},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":211},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":212},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":213},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":214},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":215},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":216},{"hash":"2736c237bd80be98ef907dabe0e3ea90f4f1c4b2","line":"function Zlib(opts, mode) {","num":217},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":218},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":219},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":220},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":221},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":222},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":223},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":224},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":225},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":226},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":227},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":228},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":229},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":230},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":231},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":232},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":233},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":234},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":235},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":236},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":237},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":238},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":239},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":240},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":241},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":242},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":243},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":244},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":245},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":246},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":247},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":248},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":249},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":250},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":251},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":252},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":253},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":254},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":255},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":256},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":257},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":258},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":259},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":260},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":261},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":262},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":263},{"hash":"55789098f52782b1dfe380f2dba4bfe83c8a08fd","line":"  if (opts.dictionary) {","num":264},{"hash":"f11d9ce73bbdb224c4eda4b31d9b5afa91cf99b6","line":"    if (!Buffer.isBuffer(opts.dictionary)) {","num":265},{"hash":"3d1011848e07bd598f3bc2a11851d68837bb9303","line":"      throw new Error('Invalid dictionary: it should be a Buffer instance');","num":266},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":267},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":268},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":269},{"hash":"a35e189842bd17446424f183e88db52abbe2990d","line":"  this._binding = new binding.Zlib(mode);","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":272},{"hash":"0470741bf3ff364a7b0ccc3e4bb219473cafc7f0","line":"  this._binding.onerror = function(message, errno) {","num":273},{"hash":"19aab28bcc200793e18ded723d891ea28dd90d01","line":"    // there is no way to cleanly recover.","num":274},{"hash":"c00d4ecd61b12a062473fbb7b6f16f713036d91c","line":"    // continuing only obscures problems.","num":275},{"hash":"9938d2c4ca4bc9d831ed88358bc05df4a4c6626c","line":"    self._binding = null;","num":276},{"hash":"40d1a3391859c8178ea3a8caf3045ddc6869c068","line":"    self._hadError = true;","num":277},{"hash":"e2aa8fbb037c27b5c399f371242fc5847ba8edb4","line":"    self._queue.length = 0;","num":278},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":279},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":280},{"hash":"861a0e5c6ee669c7bd7d01ead80fc41b132524f7","line":"    var error = new Error(message);","num":281},{"hash":"d66af53679a75420b46db25143ee932a6802deb3","line":"    error.errno = errno;","num":282},{"hash":"c77d9ad74f86ccf301cb7cc463b5064d4a622bcd","line":"    error.code = exports.codes[errno];","num":283},{"hash":"97dcd363f290f2b5ef1c69110b19ed99d80257b6","line":"    self.emit('error', error);","num":284},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"  };","num":285},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":286},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":287},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":288},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":289},{"hash":"6187cd7afbac27796b9be27cdc39283f437e4775","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY,","num":290},{"hash":"632c2cc1dd5f9cbf15a2bf709f21dd77a06e2524","line":"                     opts.dictionary);","num":291},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":292},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":293},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":294},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":295},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":296},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":297},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":298},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":299},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":300},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":301},{"hash":"da7bb5d7ae8f5261bcce9426630830103e3fe0ec","line":"  if (this._hadError) return true;","num":302},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":303},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":304},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":305},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":306},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":307},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":308},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":309},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":310},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":311},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":312},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":313},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":314},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":315},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":316},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":317},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":318},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":319},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":320},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":321},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":322},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":323},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":324},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":325},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":326},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":327},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":328},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":329},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":330},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":331},{"hash":"5e7a91ff48d23f65f9642e493ffc2c59444fecd0","line":"Zlib.prototype.reset = function reset() {","num":332},{"hash":"1f1a0296385c9c957c32ca8cd0172dbc61e77dbb","line":"  return this._binding.reset();","num":333},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":334},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":335},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":336},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":337},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":338},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":339},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":340},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":341},{"hash":"da7bb5d7ae8f5261bcce9426630830103e3fe0ec","line":"  if (this._hadError) return true;","num":342},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":343},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":344},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":345},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":346},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":347},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":348},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":349},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":350},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":351},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":352},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":353},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":354},{"hash":"a8cdab4e4b3bcb1fc080bf0792d9af41b2b38ec5","line":"  if (this._hadError) return;","num":355},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":356},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":357},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":358},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":359},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":360},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":361},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":362},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":363},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":364},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":365},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":366},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":367},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":368},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":369},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":370},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":371},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":372},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":373},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":374},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":375},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":376},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":377},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":378},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":379},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":380},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":381},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":382},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":383},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":384},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":385},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":386},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":387},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":388},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":389},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":390},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":391},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":392},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":393},{"hash":"e415527c77991626bf376f61281baa52d5267a86","line":"    if (self._hadError) return;","num":394},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":395},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":396},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":397},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":398},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":399},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":400},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":401},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":402},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":403},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":404},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":405},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":406},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":407},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":408},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":409},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":410},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":411},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":412},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":413},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":414},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":415},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":416},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":417},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":418},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":419},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":420},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":421},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":422},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":423},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":424},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":425},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":426},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":427},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":428},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":429},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":430},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":431},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":432},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":433},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":434},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":435},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":436},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":437},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":438},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":439},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":440},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":441},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":442},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":443},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":444},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":445},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":446},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":447},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":448},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":449},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":450},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":451},{"hash":"dd43cfcf1f03cd1185e94b19048c89a8b408c6b3","line":"Zlib.prototype.destroy = function() {","num":452},{"hash":"cfeaefc9a94a93f67b84536226a2d8d5fb2b8acf","line":"  this.readable = false;","num":453},{"hash":"202510d829c6a742d68f93060ba80d53fdd9030b","line":"  this.writable = false;","num":454},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":455},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":456},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":457},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":458},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":459},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":460},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":461},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":462},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":463},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":464}]},{"idx":2,"commit":"01d46f3a204edd56465b970e1c6ca79bcc15de2e","msg":"Fix #3052 Handle errors properly in zlib","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"303680c57090cb7f41b0305cdd92b3ce788104d2","line":"// translation table for return codes.","num":53},{"hash":"d2690126cbf2bec77fb3b3c5edc3c54dcbf585aa","line":"exports.codes = {","num":54},{"hash":"a97e4e81b1019715add6003a50d484c20aab3617","line":"  Z_OK: binding.Z_OK,","num":55},{"hash":"dd143b62bc0d0e78673404cf2efa93d64be351a5","line":"  Z_STREAM_END: binding.Z_STREAM_END,","num":56},{"hash":"fbd1c070eb405bea269a10a65a9fb1cdf09eabe4","line":"  Z_NEED_DICT: binding.Z_NEED_DICT,","num":57},{"hash":"1f420b64da1caabdab5ffe7636753cac423db31e","line":"  Z_ERRNO: binding.Z_ERRNO,","num":58},{"hash":"1d2a0b7bad3d00285b5cdcbc985a59780e13e163","line":"  Z_STREAM_ERROR: binding.Z_STREAM_ERROR,","num":59},{"hash":"0e97bdef1e9ae48ffbe929607a45bdfa6f0ae420","line":"  Z_DATA_ERROR: binding.Z_DATA_ERROR,","num":60},{"hash":"9ba2fabb59e2fb15406b72c79472906f2f77fbee","line":"  Z_MEM_ERROR: binding.Z_MEM_ERROR,","num":61},{"hash":"e4181b2fe33cdb6741f4b4f302e6ec0474391159","line":"  Z_BUF_ERROR: binding.Z_BUF_ERROR,","num":62},{"hash":"e40a3167cb2d4742e8c82c0bc0fd5f9de8564853","line":"  Z_VERSION_ERROR: binding.Z_VERSION_ERROR","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"05183f4219fd037f071fd16af6612f971ffc1bc3","line":"Object.keys(exports.codes).forEach(function(k) {","num":66},{"hash":"eacd9ce82bdacf770dd657b1d9ef60fc90f5f4a4","line":"  exports.codes[exports.codes[k]] = k;","num":67},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":70},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":71},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":72},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":73},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":74},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":75},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":78},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":82},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":86},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":90},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":91},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":92},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":93},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":94},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":95},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":96},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":97},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":98},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":99},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":100},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":101},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":102},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":103},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":104},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":105},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":106},{"hash":"493e9878a747326a240a21ee4f8de204f0102647","line":"// Convenience methods.","num":107},{"hash":"5707d856530dfaba08e669f217319b486ab0558e","line":"// compress/decompress a string or buffer in one step.","num":108},{"hash":"0088394a0b776f9924f07ba7f0a72cff48ba8a3a","line":"exports.deflate = function(buffer, callback) {","num":109},{"hash":"78e81ea73dd1e7d66c98b4de3452ac8b0f4bdb1f","line":"  zlibBuffer(new Deflate(), buffer, callback);","num":110},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":111},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":112},{"hash":"0e04538e47cfeb5a9e79cf109808155d2fdd6350","line":"exports.gzip = function(buffer, callback) {","num":113},{"hash":"c4399070a304de9a251a6a9b3790de0e96027ca3","line":"  zlibBuffer(new Gzip(), buffer, callback);","num":114},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"0c0f2415fe6064da3e69a8959137f53ed2bf1a26","line":"exports.deflateRaw = function(buffer, callback) {","num":117},{"hash":"bdf4b937002b2e1735b17ce14defebccbfded26c","line":"  zlibBuffer(new DeflateRaw(), buffer, callback);","num":118},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":119},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":120},{"hash":"a5331d57605d6bcc83dce460cfca607a67865bf9","line":"exports.unzip = function(buffer, callback) {","num":121},{"hash":"29685edde0671f050c9a023936b34c0aafc1f30c","line":"  zlibBuffer(new Unzip(), buffer, callback);","num":122},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"a78be292c2e3e1b9fecd50f6275add3751e0a595","line":"exports.inflate = function(buffer, callback) {","num":125},{"hash":"41ae33d60cd51f03044d9f392d6dd83201b7ea45","line":"  zlibBuffer(new Inflate(), buffer, callback);","num":126},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":127},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":128},{"hash":"2a3f36659d5849a2392560462608514be93832d2","line":"exports.gunzip = function(buffer, callback) {","num":129},{"hash":"119592df3dd9648382f168f4dd8269fa0cdd3e1f","line":"  zlibBuffer(new Gunzip(), buffer, callback);","num":130},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":131},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":132},{"hash":"720f77554a2a8990c2ff4441d063b5b6e03d3751","line":"exports.inflateRaw = function(buffer, callback) {","num":133},{"hash":"d928e333a102d657195adb7159a57c71718cb21a","line":"  zlibBuffer(new InflateRaw(), buffer, callback);","num":134},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":135},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":136},{"hash":"fcdccb705c34cd0e8db15cb27f988e8e38e94ac9","line":"function zlibBuffer(engine, buffer, callback) {","num":137},{"hash":"d0884e8e1ed58f237523327938a946ead0deab89","line":"  var buffers = [];","num":138},{"hash":"600d1a75dc03fd1e1795a1aaa5943307111e2731","line":"  var nread = 0;","num":139},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":140},{"hash":"06f74331a0c481f58d695b2a25964e0b8b074dc0","line":"  function onError(err) {","num":141},{"hash":"f2b300375249613c31afd1f824e45ee419473a8b","line":"    engine.removeListener('end', onEnd);","num":142},{"hash":"b103202f04f90fe0e3e9607def19f92f34d3b957","line":"    engine.removeListener('error', onError);","num":143},{"hash":"676614e8d6c57f595e557370e051075e2438fed0","line":"    callback(err);","num":144},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":145},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":146},{"hash":"b8b1f6911b807501db3cc7b09bb28ccdb9c7c426","line":"  function onData(chunk) {","num":147},{"hash":"16b28e2ebd38a79bd4a282ce1a4784dd0f1ba809","line":"    buffers.push(chunk);","num":148},{"hash":"9025de14c79076fd31d72596a43d866f5532d751","line":"    nread += chunk.length;","num":149},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":150},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":151},{"hash":"62742b28ce572588379e087c3cfd0b779fd6805e","line":"  function onEnd() {","num":152},{"hash":"fbee5cc70fd2b62f540f0fa7fa6577146066d297","line":"    var buffer;","num":153},{"hash":"1873b9c30bee97194dc0584a2c654a3bfa257ed1","line":"    switch (buffers.length) {","num":154},{"hash":"92b89c86887087845e0ec066b68d8f9b0b548bd6","line":"      case 0:","num":155},{"hash":"7e9edd86e5c7fa0e94b060f0e94fc2c30c12571b","line":"        buffer = new Buffer(0);","num":156},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":157},{"hash":"a44871e4557eb6099503453c26a3a50516cf1da4","line":"      case 1:","num":158},{"hash":"a720894d48591c65407e1221afa514e3aaf761ff","line":"        buffer = buffers[0];","num":159},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":160},{"hash":"71b822126e9fba870e0f65ef87dc26cc5d3fff4a","line":"      default:","num":161},{"hash":"2eba823adf82001fff961d0a9b1ee1e6cb0cebdb","line":"        buffer = new Buffer(nread);","num":162},{"hash":"7bc5562cedd27764aea3b5ea4f59f5216b668997","line":"        var n = 0;","num":163},{"hash":"1dd0eef18c51383dacb1c0584a1ddc248e3a00d4","line":"        buffers.forEach(function(b) {","num":164},{"hash":"5e82b1f1924eb2a1186685207152a50c61a355a5","line":"          var l = b.length;","num":165},{"hash":"e1f50560623ca00c885cb456dce61cc14d291176","line":"          b.copy(buffer, n, 0, l);","num":166},{"hash":"9a1131189bb41f49147128298244bed715e83ebc","line":"          n += l;","num":167},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"        });","num":168},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":169},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":170},{"hash":"8caf3a7376fa8e66cbc823e5be83990c206f2c7c","line":"    callback(null, buffer);","num":171},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":172},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":173},{"hash":"8f416e3985daa4841ae84a12dc6ec09be1787e82","line":"  engine.on('error', onError);","num":174},{"hash":"dca7d1e9db8a416dd2bc202f11960d527a4cbb9c","line":"  engine.on('data', onData);","num":175},{"hash":"2c870849d2092f368a32f121e386e50cd3b5bf81","line":"  engine.on('end', onEnd);","num":176},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":177},{"hash":"ff46794fa229e8dc0e843ef8dbef1741f3d477db","line":"  engine.write(buffer);","num":178},{"hash":"521f144127045f6f47cd386de32c4fcd8bf57e04","line":"  engine.end();","num":179},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":180},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":181},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":182},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":183},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":184},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":185},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":186},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":187},{"hash":"0cdb1000407f96f13ae1666a8ecc5b4707a12a92","line":"  Zlib.call(this, opts, binding.DEFLATE);","num":188},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":189},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":190},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":191},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":192},{"hash":"ff86ffbf17e9ffd216714346afacc4525b6be51f","line":"  Zlib.call(this, opts, binding.INFLATE);","num":193},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":194},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":195},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":196},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":197},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":198},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":199},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":200},{"hash":"fd20c9addb99a4366be6c04f8d2ca28f90382c8d","line":"  Zlib.call(this, opts, binding.GZIP);","num":201},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":202},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":203},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":204},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":205},{"hash":"6cfdc03b86abe0b6b40ac97667a0e476bbd8a276","line":"  Zlib.call(this, opts, binding.GUNZIP);","num":206},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":207},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":208},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":209},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":210},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":211},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":212},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":213},{"hash":"58ff2b70ba9b957b6d28d3e560f12eefdcb167a9","line":"  Zlib.call(this, opts, binding.DEFLATERAW);","num":214},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":215},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":216},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":217},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":218},{"hash":"5f1f9895b762354365a73a74e26399c121e130f1","line":"  Zlib.call(this, opts, binding.INFLATERAW);","num":219},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":220},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":221},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":222},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":223},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":224},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":225},{"hash":"06c13bf5db03505eb88542c347a599071cae6760","line":"  Zlib.call(this, opts, binding.UNZIP);","num":226},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":227},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":228},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":229},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":230},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":231},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":232},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":233},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":234},{"hash":"2736c237bd80be98ef907dabe0e3ea90f4f1c4b2","line":"function Zlib(opts, mode) {","num":235},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":236},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":237},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":238},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":239},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":240},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":241},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":242},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":243},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":244},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":245},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":246},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":247},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":248},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":249},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":250},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":251},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":252},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":253},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":254},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":255},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":256},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":257},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":258},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":259},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":260},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":261},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":262},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":263},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":264},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":265},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":266},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":267},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":268},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":269},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":272},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":273},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":274},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":275},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":276},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":277},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":278},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":279},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":280},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":281},{"hash":"55789098f52782b1dfe380f2dba4bfe83c8a08fd","line":"  if (opts.dictionary) {","num":282},{"hash":"f11d9ce73bbdb224c4eda4b31d9b5afa91cf99b6","line":"    if (!Buffer.isBuffer(opts.dictionary)) {","num":283},{"hash":"3d1011848e07bd598f3bc2a11851d68837bb9303","line":"      throw new Error('Invalid dictionary: it should be a Buffer instance');","num":284},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":285},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":286},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":287},{"hash":"a35e189842bd17446424f183e88db52abbe2990d","line":"  this._binding = new binding.Zlib(mode);","num":288},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":289},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":290},{"hash":"0470741bf3ff364a7b0ccc3e4bb219473cafc7f0","line":"  this._binding.onerror = function(message, errno) {","num":291},{"hash":"19aab28bcc200793e18ded723d891ea28dd90d01","line":"    // there is no way to cleanly recover.","num":292},{"hash":"c00d4ecd61b12a062473fbb7b6f16f713036d91c","line":"    // continuing only obscures problems.","num":293},{"hash":"9938d2c4ca4bc9d831ed88358bc05df4a4c6626c","line":"    self._binding = null;","num":294},{"hash":"40d1a3391859c8178ea3a8caf3045ddc6869c068","line":"    self._hadError = true;","num":295},{"hash":"e2aa8fbb037c27b5c399f371242fc5847ba8edb4","line":"    self._queue.length = 0;","num":296},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":297},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":298},{"hash":"861a0e5c6ee669c7bd7d01ead80fc41b132524f7","line":"    var error = new Error(message);","num":299},{"hash":"d66af53679a75420b46db25143ee932a6802deb3","line":"    error.errno = errno;","num":300},{"hash":"c77d9ad74f86ccf301cb7cc463b5064d4a622bcd","line":"    error.code = exports.codes[errno];","num":301},{"hash":"97dcd363f290f2b5ef1c69110b19ed99d80257b6","line":"    self.emit('error', error);","num":302},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"  };","num":303},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":304},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":305},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":306},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":307},{"hash":"6187cd7afbac27796b9be27cdc39283f437e4775","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY,","num":308},{"hash":"632c2cc1dd5f9cbf15a2bf709f21dd77a06e2524","line":"                     opts.dictionary);","num":309},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":310},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":311},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":312},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":313},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":314},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":315},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":316},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":317},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":318},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":319},{"hash":"da7bb5d7ae8f5261bcce9426630830103e3fe0ec","line":"  if (this._hadError) return true;","num":320},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":321},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":322},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":323},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":324},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":325},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":326},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":327},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":328},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":329},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":330},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":331},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":332},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":333},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":334},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":335},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":336},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":337},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":338},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":339},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":340},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":341},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":342},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":343},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":344},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":345},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":346},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":347},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":348},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":349},{"hash":"5e7a91ff48d23f65f9642e493ffc2c59444fecd0","line":"Zlib.prototype.reset = function reset() {","num":350},{"hash":"1f1a0296385c9c957c32ca8cd0172dbc61e77dbb","line":"  return this._binding.reset();","num":351},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":352},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":353},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":354},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":355},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":356},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":357},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":358},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":359},{"hash":"da7bb5d7ae8f5261bcce9426630830103e3fe0ec","line":"  if (this._hadError) return true;","num":360},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":361},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":362},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":363},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":364},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":365},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":366},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":367},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":368},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":369},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":370},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":371},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":372},{"hash":"a8cdab4e4b3bcb1fc080bf0792d9af41b2b38ec5","line":"  if (this._hadError) return;","num":373},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":374},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":375},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":376},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":377},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":378},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":379},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":380},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":381},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":382},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":383},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":384},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":385},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":386},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":387},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":388},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":389},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":390},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":391},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":392},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":393},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":394},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":395},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":396},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":397},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":398},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":399},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":400},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":401},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":402},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":403},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":404},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":405},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":406},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":407},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":408},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":409},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":410},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":411},{"hash":"e415527c77991626bf376f61281baa52d5267a86","line":"    if (self._hadError) return;","num":412},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":413},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":414},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":415},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":416},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":417},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":418},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":419},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":420},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":421},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":422},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":423},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":424},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":425},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":426},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":427},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":428},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":429},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":430},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":431},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":432},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":433},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":434},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":435},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":436},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":437},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":438},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":439},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":440},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":441},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":442},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":443},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":444},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":445},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":446},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":447},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":448},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":449},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":450},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":451},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":452},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":453},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":454},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":455},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":456},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":457},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":458},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":459},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":460},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":461},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":462},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":463},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":464},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":465},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":466},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":467},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":468},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":469},{"hash":"dd43cfcf1f03cd1185e94b19048c89a8b408c6b3","line":"Zlib.prototype.destroy = function() {","num":470},{"hash":"cfeaefc9a94a93f67b84536226a2d8d5fb2b8acf","line":"  this.readable = false;","num":471},{"hash":"202510d829c6a742d68f93060ba80d53fdd9030b","line":"  this.writable = false;","num":472},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":473},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":474},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":475},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":476},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":477},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":478},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":479},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":480},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":481},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":482}]},{"idx":3,"commit":"44eb279ef815cbb9bbeaa3bd6bd7fd7d56dca2da","msg":"zlib: don't use C++ templates\n\nReduces the executable's size by a few kilobytes.","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"493e9878a747326a240a21ee4f8de204f0102647","line":"// Convenience methods.","num":91},{"hash":"5707d856530dfaba08e669f217319b486ab0558e","line":"// compress/decompress a string or buffer in one step.","num":92},{"hash":"0088394a0b776f9924f07ba7f0a72cff48ba8a3a","line":"exports.deflate = function(buffer, callback) {","num":93},{"hash":"78e81ea73dd1e7d66c98b4de3452ac8b0f4bdb1f","line":"  zlibBuffer(new Deflate(), buffer, callback);","num":94},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":95},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":96},{"hash":"0e04538e47cfeb5a9e79cf109808155d2fdd6350","line":"exports.gzip = function(buffer, callback) {","num":97},{"hash":"c4399070a304de9a251a6a9b3790de0e96027ca3","line":"  zlibBuffer(new Gzip(), buffer, callback);","num":98},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":99},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":100},{"hash":"0c0f2415fe6064da3e69a8959137f53ed2bf1a26","line":"exports.deflateRaw = function(buffer, callback) {","num":101},{"hash":"bdf4b937002b2e1735b17ce14defebccbfded26c","line":"  zlibBuffer(new DeflateRaw(), buffer, callback);","num":102},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"a5331d57605d6bcc83dce460cfca607a67865bf9","line":"exports.unzip = function(buffer, callback) {","num":105},{"hash":"29685edde0671f050c9a023936b34c0aafc1f30c","line":"  zlibBuffer(new Unzip(), buffer, callback);","num":106},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":107},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":108},{"hash":"a78be292c2e3e1b9fecd50f6275add3751e0a595","line":"exports.inflate = function(buffer, callback) {","num":109},{"hash":"41ae33d60cd51f03044d9f392d6dd83201b7ea45","line":"  zlibBuffer(new Inflate(), buffer, callback);","num":110},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":111},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":112},{"hash":"2a3f36659d5849a2392560462608514be93832d2","line":"exports.gunzip = function(buffer, callback) {","num":113},{"hash":"119592df3dd9648382f168f4dd8269fa0cdd3e1f","line":"  zlibBuffer(new Gunzip(), buffer, callback);","num":114},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"720f77554a2a8990c2ff4441d063b5b6e03d3751","line":"exports.inflateRaw = function(buffer, callback) {","num":117},{"hash":"d928e333a102d657195adb7159a57c71718cb21a","line":"  zlibBuffer(new InflateRaw(), buffer, callback);","num":118},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":119},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":120},{"hash":"fcdccb705c34cd0e8db15cb27f988e8e38e94ac9","line":"function zlibBuffer(engine, buffer, callback) {","num":121},{"hash":"d0884e8e1ed58f237523327938a946ead0deab89","line":"  var buffers = [];","num":122},{"hash":"600d1a75dc03fd1e1795a1aaa5943307111e2731","line":"  var nread = 0;","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"06f74331a0c481f58d695b2a25964e0b8b074dc0","line":"  function onError(err) {","num":125},{"hash":"f2b300375249613c31afd1f824e45ee419473a8b","line":"    engine.removeListener('end', onEnd);","num":126},{"hash":"b103202f04f90fe0e3e9607def19f92f34d3b957","line":"    engine.removeListener('error', onError);","num":127},{"hash":"676614e8d6c57f595e557370e051075e2438fed0","line":"    callback(err);","num":128},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"b8b1f6911b807501db3cc7b09bb28ccdb9c7c426","line":"  function onData(chunk) {","num":131},{"hash":"16b28e2ebd38a79bd4a282ce1a4784dd0f1ba809","line":"    buffers.push(chunk);","num":132},{"hash":"9025de14c79076fd31d72596a43d866f5532d751","line":"    nread += chunk.length;","num":133},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":134},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":135},{"hash":"62742b28ce572588379e087c3cfd0b779fd6805e","line":"  function onEnd() {","num":136},{"hash":"fbee5cc70fd2b62f540f0fa7fa6577146066d297","line":"    var buffer;","num":137},{"hash":"1873b9c30bee97194dc0584a2c654a3bfa257ed1","line":"    switch (buffers.length) {","num":138},{"hash":"92b89c86887087845e0ec066b68d8f9b0b548bd6","line":"      case 0:","num":139},{"hash":"7e9edd86e5c7fa0e94b060f0e94fc2c30c12571b","line":"        buffer = new Buffer(0);","num":140},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":141},{"hash":"a44871e4557eb6099503453c26a3a50516cf1da4","line":"      case 1:","num":142},{"hash":"a720894d48591c65407e1221afa514e3aaf761ff","line":"        buffer = buffers[0];","num":143},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":144},{"hash":"71b822126e9fba870e0f65ef87dc26cc5d3fff4a","line":"      default:","num":145},{"hash":"2eba823adf82001fff961d0a9b1ee1e6cb0cebdb","line":"        buffer = new Buffer(nread);","num":146},{"hash":"7bc5562cedd27764aea3b5ea4f59f5216b668997","line":"        var n = 0;","num":147},{"hash":"1dd0eef18c51383dacb1c0584a1ddc248e3a00d4","line":"        buffers.forEach(function(b) {","num":148},{"hash":"5e82b1f1924eb2a1186685207152a50c61a355a5","line":"          var l = b.length;","num":149},{"hash":"e1f50560623ca00c885cb456dce61cc14d291176","line":"          b.copy(buffer, n, 0, l);","num":150},{"hash":"9a1131189bb41f49147128298244bed715e83ebc","line":"          n += l;","num":151},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"        });","num":152},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":153},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":154},{"hash":"8caf3a7376fa8e66cbc823e5be83990c206f2c7c","line":"    callback(null, buffer);","num":155},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":156},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":157},{"hash":"8f416e3985daa4841ae84a12dc6ec09be1787e82","line":"  engine.on('error', onError);","num":158},{"hash":"dca7d1e9db8a416dd2bc202f11960d527a4cbb9c","line":"  engine.on('data', onData);","num":159},{"hash":"2c870849d2092f368a32f121e386e50cd3b5bf81","line":"  engine.on('end', onEnd);","num":160},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":161},{"hash":"ff46794fa229e8dc0e843ef8dbef1741f3d477db","line":"  engine.write(buffer);","num":162},{"hash":"521f144127045f6f47cd386de32c4fcd8bf57e04","line":"  engine.end();","num":163},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":164},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":165},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":166},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":167},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":168},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":169},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":170},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":171},{"hash":"0cdb1000407f96f13ae1666a8ecc5b4707a12a92","line":"  Zlib.call(this, opts, binding.DEFLATE);","num":172},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":173},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":174},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":175},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":176},{"hash":"ff86ffbf17e9ffd216714346afacc4525b6be51f","line":"  Zlib.call(this, opts, binding.INFLATE);","num":177},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":180},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":181},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":182},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":183},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":184},{"hash":"fd20c9addb99a4366be6c04f8d2ca28f90382c8d","line":"  Zlib.call(this, opts, binding.GZIP);","num":185},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":186},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":187},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":188},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":189},{"hash":"6cfdc03b86abe0b6b40ac97667a0e476bbd8a276","line":"  Zlib.call(this, opts, binding.GUNZIP);","num":190},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":191},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":192},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":193},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":194},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":195},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":196},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":197},{"hash":"58ff2b70ba9b957b6d28d3e560f12eefdcb167a9","line":"  Zlib.call(this, opts, binding.DEFLATERAW);","num":198},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":199},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":200},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":201},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":202},{"hash":"5f1f9895b762354365a73a74e26399c121e130f1","line":"  Zlib.call(this, opts, binding.INFLATERAW);","num":203},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":204},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":205},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":206},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":207},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":208},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":209},{"hash":"06c13bf5db03505eb88542c347a599071cae6760","line":"  Zlib.call(this, opts, binding.UNZIP);","num":210},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":211},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":212},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":213},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":214},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":215},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":216},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":217},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":218},{"hash":"2736c237bd80be98ef907dabe0e3ea90f4f1c4b2","line":"function Zlib(opts, mode) {","num":219},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":220},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":221},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":222},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":223},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":224},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":225},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":226},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":227},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":228},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":229},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":230},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":231},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":232},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":233},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":234},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":235},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":236},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":237},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":238},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":239},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":240},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":241},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":242},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":243},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":244},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":245},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":246},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":247},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":248},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":249},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":250},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":251},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":252},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":253},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":254},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":255},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":256},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":257},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":258},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":259},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":260},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":261},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":262},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":263},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":264},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":265},{"hash":"55789098f52782b1dfe380f2dba4bfe83c8a08fd","line":"  if (opts.dictionary) {","num":266},{"hash":"f11d9ce73bbdb224c4eda4b31d9b5afa91cf99b6","line":"    if (!Buffer.isBuffer(opts.dictionary)) {","num":267},{"hash":"3d1011848e07bd598f3bc2a11851d68837bb9303","line":"      throw new Error('Invalid dictionary: it should be a Buffer instance');","num":268},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":269},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"a35e189842bd17446424f183e88db52abbe2990d","line":"  this._binding = new binding.Zlib(mode);","num":272},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":273},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":274},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":275},{"hash":"6187cd7afbac27796b9be27cdc39283f437e4775","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY,","num":276},{"hash":"632c2cc1dd5f9cbf15a2bf709f21dd77a06e2524","line":"                     opts.dictionary);","num":277},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":278},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":279},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":280},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":281},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":282},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":283},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":284},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":285},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":286},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":287},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":288},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":289},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":290},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":291},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":292},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":293},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":294},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":295},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":296},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":297},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":298},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":299},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":300},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":301},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":302},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":303},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":304},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":305},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":306},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":307},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":308},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":309},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":310},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":311},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":312},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":313},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":314},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":315},{"hash":"5e7a91ff48d23f65f9642e493ffc2c59444fecd0","line":"Zlib.prototype.reset = function reset() {","num":316},{"hash":"1f1a0296385c9c957c32ca8cd0172dbc61e77dbb","line":"  return this._binding.reset();","num":317},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":318},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":319},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":320},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":321},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":322},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":323},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":324},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":325},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":326},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":327},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":328},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":329},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":330},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":331},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":332},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":333},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":334},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":335},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":336},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":337},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":338},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":339},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":340},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":341},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":342},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":343},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":344},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":345},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":346},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":347},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":348},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":349},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":350},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":351},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":352},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":353},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":354},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":355},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":356},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":357},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":358},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":359},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":360},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":361},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":362},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":363},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":364},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":365},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":366},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":367},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":368},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":369},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":370},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":371},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":372},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":373},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":374},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":375},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":376},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":377},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":378},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":379},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":380},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":381},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":382},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":383},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":384},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":385},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":386},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":387},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":388},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":389},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":390},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":391},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":392},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":393},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":394},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":395},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":396},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":397},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":398},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":399},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":400},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":401},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":402},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":403},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":404},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":405},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":406},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":407},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":408},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":409},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":410},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":411},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":412},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":413},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":414},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":415},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":416},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":417},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":418},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":419},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":420},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":421},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":422},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":423},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":424},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":425},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":426},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":427},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":428},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":429},{"hash":"dd43cfcf1f03cd1185e94b19048c89a8b408c6b3","line":"Zlib.prototype.destroy = function() {","num":430},{"hash":"cfeaefc9a94a93f67b84536226a2d8d5fb2b8acf","line":"  this.readable = false;","num":431},{"hash":"202510d829c6a742d68f93060ba80d53fdd9030b","line":"  this.writable = false;","num":432},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":433},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":434},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":435},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":436},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":437},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":438},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":439},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":440},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":441},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":442}]},{"idx":4,"commit":"c15e6905c43af4bf3ed77ed72b6bd90efa3bc9b4","msg":"Added destroy method to Zlib object in zlib.js module","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"493e9878a747326a240a21ee4f8de204f0102647","line":"// Convenience methods.","num":91},{"hash":"5707d856530dfaba08e669f217319b486ab0558e","line":"// compress/decompress a string or buffer in one step.","num":92},{"hash":"0088394a0b776f9924f07ba7f0a72cff48ba8a3a","line":"exports.deflate = function(buffer, callback) {","num":93},{"hash":"78e81ea73dd1e7d66c98b4de3452ac8b0f4bdb1f","line":"  zlibBuffer(new Deflate(), buffer, callback);","num":94},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":95},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":96},{"hash":"0e04538e47cfeb5a9e79cf109808155d2fdd6350","line":"exports.gzip = function(buffer, callback) {","num":97},{"hash":"c4399070a304de9a251a6a9b3790de0e96027ca3","line":"  zlibBuffer(new Gzip(), buffer, callback);","num":98},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":99},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":100},{"hash":"0c0f2415fe6064da3e69a8959137f53ed2bf1a26","line":"exports.deflateRaw = function(buffer, callback) {","num":101},{"hash":"bdf4b937002b2e1735b17ce14defebccbfded26c","line":"  zlibBuffer(new DeflateRaw(), buffer, callback);","num":102},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"a5331d57605d6bcc83dce460cfca607a67865bf9","line":"exports.unzip = function(buffer, callback) {","num":105},{"hash":"29685edde0671f050c9a023936b34c0aafc1f30c","line":"  zlibBuffer(new Unzip(), buffer, callback);","num":106},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":107},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":108},{"hash":"a78be292c2e3e1b9fecd50f6275add3751e0a595","line":"exports.inflate = function(buffer, callback) {","num":109},{"hash":"41ae33d60cd51f03044d9f392d6dd83201b7ea45","line":"  zlibBuffer(new Inflate(), buffer, callback);","num":110},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":111},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":112},{"hash":"2a3f36659d5849a2392560462608514be93832d2","line":"exports.gunzip = function(buffer, callback) {","num":113},{"hash":"119592df3dd9648382f168f4dd8269fa0cdd3e1f","line":"  zlibBuffer(new Gunzip(), buffer, callback);","num":114},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"720f77554a2a8990c2ff4441d063b5b6e03d3751","line":"exports.inflateRaw = function(buffer, callback) {","num":117},{"hash":"d928e333a102d657195adb7159a57c71718cb21a","line":"  zlibBuffer(new InflateRaw(), buffer, callback);","num":118},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":119},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":120},{"hash":"fcdccb705c34cd0e8db15cb27f988e8e38e94ac9","line":"function zlibBuffer(engine, buffer, callback) {","num":121},{"hash":"d0884e8e1ed58f237523327938a946ead0deab89","line":"  var buffers = [];","num":122},{"hash":"600d1a75dc03fd1e1795a1aaa5943307111e2731","line":"  var nread = 0;","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"06f74331a0c481f58d695b2a25964e0b8b074dc0","line":"  function onError(err) {","num":125},{"hash":"f2b300375249613c31afd1f824e45ee419473a8b","line":"    engine.removeListener('end', onEnd);","num":126},{"hash":"b103202f04f90fe0e3e9607def19f92f34d3b957","line":"    engine.removeListener('error', onError);","num":127},{"hash":"676614e8d6c57f595e557370e051075e2438fed0","line":"    callback(err);","num":128},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"b8b1f6911b807501db3cc7b09bb28ccdb9c7c426","line":"  function onData(chunk) {","num":131},{"hash":"16b28e2ebd38a79bd4a282ce1a4784dd0f1ba809","line":"    buffers.push(chunk);","num":132},{"hash":"9025de14c79076fd31d72596a43d866f5532d751","line":"    nread += chunk.length;","num":133},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":134},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":135},{"hash":"62742b28ce572588379e087c3cfd0b779fd6805e","line":"  function onEnd() {","num":136},{"hash":"fbee5cc70fd2b62f540f0fa7fa6577146066d297","line":"    var buffer;","num":137},{"hash":"1873b9c30bee97194dc0584a2c654a3bfa257ed1","line":"    switch (buffers.length) {","num":138},{"hash":"92b89c86887087845e0ec066b68d8f9b0b548bd6","line":"      case 0:","num":139},{"hash":"7e9edd86e5c7fa0e94b060f0e94fc2c30c12571b","line":"        buffer = new Buffer(0);","num":140},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":141},{"hash":"a44871e4557eb6099503453c26a3a50516cf1da4","line":"      case 1:","num":142},{"hash":"a720894d48591c65407e1221afa514e3aaf761ff","line":"        buffer = buffers[0];","num":143},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":144},{"hash":"71b822126e9fba870e0f65ef87dc26cc5d3fff4a","line":"      default:","num":145},{"hash":"2eba823adf82001fff961d0a9b1ee1e6cb0cebdb","line":"        buffer = new Buffer(nread);","num":146},{"hash":"7bc5562cedd27764aea3b5ea4f59f5216b668997","line":"        var n = 0;","num":147},{"hash":"1dd0eef18c51383dacb1c0584a1ddc248e3a00d4","line":"        buffers.forEach(function(b) {","num":148},{"hash":"5e82b1f1924eb2a1186685207152a50c61a355a5","line":"          var l = b.length;","num":149},{"hash":"e1f50560623ca00c885cb456dce61cc14d291176","line":"          b.copy(buffer, n, 0, l);","num":150},{"hash":"9a1131189bb41f49147128298244bed715e83ebc","line":"          n += l;","num":151},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"        });","num":152},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":153},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":154},{"hash":"8caf3a7376fa8e66cbc823e5be83990c206f2c7c","line":"    callback(null, buffer);","num":155},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":156},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":157},{"hash":"8f416e3985daa4841ae84a12dc6ec09be1787e82","line":"  engine.on('error', onError);","num":158},{"hash":"dca7d1e9db8a416dd2bc202f11960d527a4cbb9c","line":"  engine.on('data', onData);","num":159},{"hash":"2c870849d2092f368a32f121e386e50cd3b5bf81","line":"  engine.on('end', onEnd);","num":160},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":161},{"hash":"ff46794fa229e8dc0e843ef8dbef1741f3d477db","line":"  engine.write(buffer);","num":162},{"hash":"521f144127045f6f47cd386de32c4fcd8bf57e04","line":"  engine.end();","num":163},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":164},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":165},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":166},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":167},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":168},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":169},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":170},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":171},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":172},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":173},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":174},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":175},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":176},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":177},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":180},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":181},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":182},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":183},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":184},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":185},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":186},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":187},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":188},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":189},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":190},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":191},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":192},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":193},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":194},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":195},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":196},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":197},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":198},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":199},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":200},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":201},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":202},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":203},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":204},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":205},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":206},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":207},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":208},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":209},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":210},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":211},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":212},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":213},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":214},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":215},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":216},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":217},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":218},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":219},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":220},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":221},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":222},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":223},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":224},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":225},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":226},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":227},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":228},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":229},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":230},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":231},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":232},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":233},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":234},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":235},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":236},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":237},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":238},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":239},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":240},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":241},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":242},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":243},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":244},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":245},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":246},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":247},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":248},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":249},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":250},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":251},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":252},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":253},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":254},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":255},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":256},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":257},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":258},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":259},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":260},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":261},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":262},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":263},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":264},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":265},{"hash":"55789098f52782b1dfe380f2dba4bfe83c8a08fd","line":"  if (opts.dictionary) {","num":266},{"hash":"f11d9ce73bbdb224c4eda4b31d9b5afa91cf99b6","line":"    if (!Buffer.isBuffer(opts.dictionary)) {","num":267},{"hash":"3d1011848e07bd598f3bc2a11851d68837bb9303","line":"      throw new Error('Invalid dictionary: it should be a Buffer instance');","num":268},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":269},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":272},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":273},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":274},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":275},{"hash":"6187cd7afbac27796b9be27cdc39283f437e4775","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY,","num":276},{"hash":"632c2cc1dd5f9cbf15a2bf709f21dd77a06e2524","line":"                     opts.dictionary);","num":277},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":278},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":279},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":280},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":281},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":282},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":283},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":284},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":285},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":286},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":287},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":288},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":289},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":290},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":291},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":292},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":293},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":294},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":295},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":296},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":297},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":298},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":299},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":300},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":301},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":302},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":303},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":304},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":305},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":306},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":307},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":308},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":309},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":310},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":311},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":312},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":313},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":314},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":315},{"hash":"5e7a91ff48d23f65f9642e493ffc2c59444fecd0","line":"Zlib.prototype.reset = function reset() {","num":316},{"hash":"1f1a0296385c9c957c32ca8cd0172dbc61e77dbb","line":"  return this._binding.reset();","num":317},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":318},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":319},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":320},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":321},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":322},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":323},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":324},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":325},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":326},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":327},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":328},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":329},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":330},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":331},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":332},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":333},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":334},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":335},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":336},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":337},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":338},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":339},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":340},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":341},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":342},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":343},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":344},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":345},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":346},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":347},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":348},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":349},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":350},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":351},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":352},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":353},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":354},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":355},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":356},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":357},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":358},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":359},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":360},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":361},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":362},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":363},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":364},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":365},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":366},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":367},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":368},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":369},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":370},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":371},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":372},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":373},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":374},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":375},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":376},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":377},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":378},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":379},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":380},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":381},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":382},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":383},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":384},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":385},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":386},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":387},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":388},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":389},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":390},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":391},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":392},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":393},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":394},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":395},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":396},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":397},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":398},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":399},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":400},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":401},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":402},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":403},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":404},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":405},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":406},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":407},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":408},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":409},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":410},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":411},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":412},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":413},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":414},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":415},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":416},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":417},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":418},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":419},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":420},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":421},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":422},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":423},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":424},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":425},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":426},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":427},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":428},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":429},{"hash":"dd43cfcf1f03cd1185e94b19048c89a8b408c6b3","line":"Zlib.prototype.destroy = function() {","num":430},{"hash":"cfeaefc9a94a93f67b84536226a2d8d5fb2b8acf","line":"  this.readable = false;","num":431},{"hash":"202510d829c6a742d68f93060ba80d53fdd9030b","line":"  this.writable = false;","num":432},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":433},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":434},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":435},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":436},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":437},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":438},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":439},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":440},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":441},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":442}]},{"idx":5,"commit":"0cdf85e28d57428a90026c6a402e624c1dcaabce","msg":"Lint all the JavaScripts.","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"493e9878a747326a240a21ee4f8de204f0102647","line":"// Convenience methods.","num":91},{"hash":"5707d856530dfaba08e669f217319b486ab0558e","line":"// compress/decompress a string or buffer in one step.","num":92},{"hash":"0088394a0b776f9924f07ba7f0a72cff48ba8a3a","line":"exports.deflate = function(buffer, callback) {","num":93},{"hash":"78e81ea73dd1e7d66c98b4de3452ac8b0f4bdb1f","line":"  zlibBuffer(new Deflate(), buffer, callback);","num":94},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":95},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":96},{"hash":"0e04538e47cfeb5a9e79cf109808155d2fdd6350","line":"exports.gzip = function(buffer, callback) {","num":97},{"hash":"c4399070a304de9a251a6a9b3790de0e96027ca3","line":"  zlibBuffer(new Gzip(), buffer, callback);","num":98},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":99},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":100},{"hash":"0c0f2415fe6064da3e69a8959137f53ed2bf1a26","line":"exports.deflateRaw = function(buffer, callback) {","num":101},{"hash":"bdf4b937002b2e1735b17ce14defebccbfded26c","line":"  zlibBuffer(new DeflateRaw(), buffer, callback);","num":102},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"a5331d57605d6bcc83dce460cfca607a67865bf9","line":"exports.unzip = function(buffer, callback) {","num":105},{"hash":"29685edde0671f050c9a023936b34c0aafc1f30c","line":"  zlibBuffer(new Unzip(), buffer, callback);","num":106},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":107},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":108},{"hash":"a78be292c2e3e1b9fecd50f6275add3751e0a595","line":"exports.inflate = function(buffer, callback) {","num":109},{"hash":"41ae33d60cd51f03044d9f392d6dd83201b7ea45","line":"  zlibBuffer(new Inflate(), buffer, callback);","num":110},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":111},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":112},{"hash":"2a3f36659d5849a2392560462608514be93832d2","line":"exports.gunzip = function(buffer, callback) {","num":113},{"hash":"119592df3dd9648382f168f4dd8269fa0cdd3e1f","line":"  zlibBuffer(new Gunzip(), buffer, callback);","num":114},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"720f77554a2a8990c2ff4441d063b5b6e03d3751","line":"exports.inflateRaw = function(buffer, callback) {","num":117},{"hash":"d928e333a102d657195adb7159a57c71718cb21a","line":"  zlibBuffer(new InflateRaw(), buffer, callback);","num":118},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":119},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":120},{"hash":"fcdccb705c34cd0e8db15cb27f988e8e38e94ac9","line":"function zlibBuffer(engine, buffer, callback) {","num":121},{"hash":"d0884e8e1ed58f237523327938a946ead0deab89","line":"  var buffers = [];","num":122},{"hash":"600d1a75dc03fd1e1795a1aaa5943307111e2731","line":"  var nread = 0;","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"06f74331a0c481f58d695b2a25964e0b8b074dc0","line":"  function onError(err) {","num":125},{"hash":"f2b300375249613c31afd1f824e45ee419473a8b","line":"    engine.removeListener('end', onEnd);","num":126},{"hash":"b103202f04f90fe0e3e9607def19f92f34d3b957","line":"    engine.removeListener('error', onError);","num":127},{"hash":"676614e8d6c57f595e557370e051075e2438fed0","line":"    callback(err);","num":128},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"b8b1f6911b807501db3cc7b09bb28ccdb9c7c426","line":"  function onData(chunk) {","num":131},{"hash":"16b28e2ebd38a79bd4a282ce1a4784dd0f1ba809","line":"    buffers.push(chunk);","num":132},{"hash":"9025de14c79076fd31d72596a43d866f5532d751","line":"    nread += chunk.length;","num":133},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":134},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":135},{"hash":"62742b28ce572588379e087c3cfd0b779fd6805e","line":"  function onEnd() {","num":136},{"hash":"fbee5cc70fd2b62f540f0fa7fa6577146066d297","line":"    var buffer;","num":137},{"hash":"1873b9c30bee97194dc0584a2c654a3bfa257ed1","line":"    switch (buffers.length) {","num":138},{"hash":"92b89c86887087845e0ec066b68d8f9b0b548bd6","line":"      case 0:","num":139},{"hash":"7e9edd86e5c7fa0e94b060f0e94fc2c30c12571b","line":"        buffer = new Buffer(0);","num":140},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":141},{"hash":"a44871e4557eb6099503453c26a3a50516cf1da4","line":"      case 1:","num":142},{"hash":"a720894d48591c65407e1221afa514e3aaf761ff","line":"        buffer = buffers[0];","num":143},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":144},{"hash":"71b822126e9fba870e0f65ef87dc26cc5d3fff4a","line":"      default:","num":145},{"hash":"2eba823adf82001fff961d0a9b1ee1e6cb0cebdb","line":"        buffer = new Buffer(nread);","num":146},{"hash":"7bc5562cedd27764aea3b5ea4f59f5216b668997","line":"        var n = 0;","num":147},{"hash":"1dd0eef18c51383dacb1c0584a1ddc248e3a00d4","line":"        buffers.forEach(function(b) {","num":148},{"hash":"5e82b1f1924eb2a1186685207152a50c61a355a5","line":"          var l = b.length;","num":149},{"hash":"e1f50560623ca00c885cb456dce61cc14d291176","line":"          b.copy(buffer, n, 0, l);","num":150},{"hash":"9a1131189bb41f49147128298244bed715e83ebc","line":"          n += l;","num":151},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"        });","num":152},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":153},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":154},{"hash":"8caf3a7376fa8e66cbc823e5be83990c206f2c7c","line":"    callback(null, buffer);","num":155},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":156},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":157},{"hash":"8f416e3985daa4841ae84a12dc6ec09be1787e82","line":"  engine.on('error', onError);","num":158},{"hash":"dca7d1e9db8a416dd2bc202f11960d527a4cbb9c","line":"  engine.on('data', onData);","num":159},{"hash":"2c870849d2092f368a32f121e386e50cd3b5bf81","line":"  engine.on('end', onEnd);","num":160},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":161},{"hash":"ff46794fa229e8dc0e843ef8dbef1741f3d477db","line":"  engine.write(buffer);","num":162},{"hash":"521f144127045f6f47cd386de32c4fcd8bf57e04","line":"  engine.end();","num":163},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":164},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":165},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":166},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":167},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":168},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":169},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":170},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":171},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":172},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":173},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":174},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":175},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":176},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":177},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":180},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":181},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":182},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":183},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":184},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":185},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":186},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":187},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":188},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":189},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":190},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":191},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":192},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":193},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":194},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":195},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":196},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":197},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":198},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":199},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":200},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":201},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":202},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":203},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":204},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":205},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":206},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":207},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":208},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":209},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":210},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":211},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":212},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":213},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":214},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":215},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":216},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":217},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":218},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":219},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":220},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":221},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":222},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":223},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":224},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":225},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":226},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":227},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":228},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":229},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":230},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":231},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":232},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":233},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":234},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":235},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":236},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":237},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":238},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":239},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":240},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":241},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":242},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":243},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":244},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":245},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":246},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":247},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":248},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":249},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":250},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":251},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":252},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":253},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":254},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":255},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":256},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":257},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":258},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":259},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":260},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":261},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":262},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":263},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":264},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":265},{"hash":"55789098f52782b1dfe380f2dba4bfe83c8a08fd","line":"  if (opts.dictionary) {","num":266},{"hash":"f11d9ce73bbdb224c4eda4b31d9b5afa91cf99b6","line":"    if (!Buffer.isBuffer(opts.dictionary)) {","num":267},{"hash":"3d1011848e07bd598f3bc2a11851d68837bb9303","line":"      throw new Error('Invalid dictionary: it should be a Buffer instance');","num":268},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":269},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":272},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":273},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":274},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":275},{"hash":"6187cd7afbac27796b9be27cdc39283f437e4775","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY,","num":276},{"hash":"632c2cc1dd5f9cbf15a2bf709f21dd77a06e2524","line":"                     opts.dictionary);","num":277},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":278},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":279},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":280},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":281},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":282},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":283},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":284},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":285},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":286},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":287},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":288},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":289},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":290},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":291},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":292},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":293},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":294},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":295},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":296},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":297},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":298},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":299},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":300},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":301},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":302},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":303},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":304},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":305},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":306},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":307},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":308},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":309},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":310},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":311},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":312},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":313},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":314},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":315},{"hash":"5e7a91ff48d23f65f9642e493ffc2c59444fecd0","line":"Zlib.prototype.reset = function reset() {","num":316},{"hash":"1f1a0296385c9c957c32ca8cd0172dbc61e77dbb","line":"  return this._binding.reset();","num":317},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":318},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":319},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":320},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":321},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":322},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":323},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":324},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":325},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":326},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":327},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":328},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":329},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":330},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":331},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":332},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":333},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":334},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":335},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":336},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":337},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":338},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":339},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":340},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":341},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":342},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":343},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":344},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":345},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":346},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":347},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":348},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":349},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":350},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":351},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":352},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":353},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":354},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":355},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":356},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":357},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":358},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":359},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":360},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":361},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":362},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":363},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":364},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":365},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":366},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":367},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":368},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":369},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":370},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":371},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":372},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":373},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":374},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":375},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":376},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":377},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":378},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":379},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":380},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":381},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":382},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":383},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":384},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":385},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":386},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":387},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":388},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":389},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":390},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":391},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":392},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":393},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":394},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":395},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":396},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":397},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":398},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":399},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":400},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":401},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":402},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":403},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":404},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":405},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":406},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":407},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":408},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":409},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":410},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":411},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":412},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":413},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":414},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":415},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":416},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":417},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":418},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":419},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":420},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":421},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":422},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":423},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":424},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":425},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":426},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":427},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":428},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":429},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":430},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":431},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":432},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":433},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":434},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":435},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":436}]},{"idx":6,"commit":"667aae596cded9336f50574386683ec39ada43f2","msg":"Merge branch 'v0.6'\n\nConflicts:\n\tChangeLog\n\tdoc/template.html\n\tlib/cluster.js\n\tlib/http.js\n\tlib/tls.js\n\tsrc/node.h\n\tsrc/node_version.h\n\ttest/simple/test-cluster-kill-workers.js\n\nfix windows build\n\nupgrade libuv to edbabe6f83\n\ncrypto: silence unused variable warning\n\n`retry` is not used if SSL_PRINT_DEBUG is not defined.\n\ntest: fix test/simple/test-net-server-max-connections.js is racey\n\nFixes #1333.\n\ntest: for #2109\n\nutil: use getOwnPropertyDescripter\n\nChange formatProperty in util.js to use Object.getOwnPropertyDescriptor\ninstead of __lookup[GS]etter__.\n\nUse the cached value from the descriptor to reduce number of property\nlookups from 3 to 1.\n\nFallback to standard lookup if the descriptor is empty. This doesn't\never happen with normal JS objects (this function is called only when\nthe key exists) but apparently does with Node's custom ENV interface.\n\nFixes: #2109.\n\nhttp: keep-alive should default with HTTP/1.1 server\n\nAs RFC 2616 says we should, assume that servers will provide a persistent\nconnection by default.\n\n> A significant difference between HTTP/1.1 and earlier versions of\n> HTTP is that persistent connections are the default behavior of any\n> HTTP connection. That is, unless otherwise indicated, the client\n> SHOULD assume that the server will maintain a persistent connection,\n> even after error responses from the server.\n\n> HTTP/1.1 applications that do not support persistent connections MUST\n> include the \"close\" connection option in every message.\n\nFixes #2436.\n\ndgram: reintroduce setMulticastTTL()\n\nRemoved during the early stages of node 0.5 refactoring to libuv.\n\ndgram: reintroduce setBroadcast()\n\nRemoved during the early stages of node 0.5 refactoring to libuv.\n\ndgram: reintroduce addMembership() and dropMembership()\n\nRemoved during the early stages of node 0.5 refactoring to libuv.\n\nuv: upgrade to 497b1ec\n\nhttp: reduce creating http-parser instances\n\nFixes #2577.\n\nFix #2365 zlib crashing on invalid input\n\nFix zlib crashes on error due to improper use of removeListener\nin the error handler\n\nAdd missing ChangeLog item re: fs.stat improvement\n\nThis was a very significant improvement that should have been called out\nexplicitly.\n\nI added 'review all libuv changes' to my build checklist.  It won't\nhappen again.  Sorry, @igorzi.\n\nNow working on 0.6.9\n\n2012.01.19, Version 0.6.8 (stable)\n\n* Update V8 to 3.6.6.19\n\n* Numeric key hash collision fix for V8 (Erik Corry, Fedor Indutny)\n\n* Add missing TTY key translations for F1-F5 on Windows (Brandon Benvie)\n\n* path.extname bugfix with . and .. paths (Bert Belder)\n\n* cluster: don't always kill the master on uncaughtException (Ben\n* Noordhuis)\n\n* Update npm to 1.1.0-2 (isaacs)\n\n* typed arrays: set class name (Ben Noordhuis)\n\n* zlib binding cleanup (isaacs, Bert Belder)\n\n* dgram: use slab memory allocator (Michael Bernstein)\n\n* fix segfault #2473\n\nUpgrade V8 to 3.6.6.19\n\nLand number collision fix for v8 3.6 by Erik Corry\n\nUpdate with fixes from: http://codereview.chromium.org/9190001/\n\ndocs: document common add-on design patterns\n\nAdd missing TTY key translations for F1-F5 on Windows\n\nMake path.extname do the right thing when the last path component is . or ..\n\nCloses GH-2526\n\ncluster: don't always kill the master on uncaughtException\n\nuncaughtException handlers installed by the user override the default one that\nthe cluster module installs, the one that kills off the master process.\n\nFixes #2556.\n\ndocs: replace expresso with mocha in appendix 1\n\nLink to Marak's module rap in community page\n\ntests: fix more lint issues\n\nTests: fix jslint issues\n\nchild_process: add errno property to exceptions\n\nIn case of a write failure when using fork() an error would be thrown. The\nthrown exception was missing the `errno` property.\n\nLand number collision fix for v8 3.6 by Erik Corry\n\n- If V8 snapshots are enabled then the hash is only randomized at build time.\n\n---\nbackport @10366, @10367 and @10402 to 3.6\n\nAdd seed to hash of numeric keyed properties.\n\nMinor cleanups of numeric seeded hashing patch.\n\nSplit NumberDictionary into a randomly seeded and an unseeded version.\nWe don't want to randomize the stub cache.\n\nReview URL: http://codereview.chromium.org/9190001/\n\ntls: fix double 'error' events on HTTPS Requests\n\nFixes #2549.\n\ntyped arrays: set class name\n\nMake obj.toString and Object.prototype.toString work correctly for typed arrays.","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"493e9878a747326a240a21ee4f8de204f0102647","line":"// Convenience methods.","num":91},{"hash":"5707d856530dfaba08e669f217319b486ab0558e","line":"// compress/decompress a string or buffer in one step.","num":92},{"hash":"0088394a0b776f9924f07ba7f0a72cff48ba8a3a","line":"exports.deflate = function(buffer, callback) {","num":93},{"hash":"78e81ea73dd1e7d66c98b4de3452ac8b0f4bdb1f","line":"  zlibBuffer(new Deflate(), buffer, callback);","num":94},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":95},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":96},{"hash":"0e04538e47cfeb5a9e79cf109808155d2fdd6350","line":"exports.gzip = function(buffer, callback) {","num":97},{"hash":"c4399070a304de9a251a6a9b3790de0e96027ca3","line":"  zlibBuffer(new Gzip(), buffer, callback);","num":98},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":99},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":100},{"hash":"0c0f2415fe6064da3e69a8959137f53ed2bf1a26","line":"exports.deflateRaw = function(buffer, callback) {","num":101},{"hash":"bdf4b937002b2e1735b17ce14defebccbfded26c","line":"  zlibBuffer(new DeflateRaw(), buffer, callback);","num":102},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"a5331d57605d6bcc83dce460cfca607a67865bf9","line":"exports.unzip = function(buffer, callback) {","num":105},{"hash":"29685edde0671f050c9a023936b34c0aafc1f30c","line":"  zlibBuffer(new Unzip(), buffer, callback);","num":106},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":107},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":108},{"hash":"a78be292c2e3e1b9fecd50f6275add3751e0a595","line":"exports.inflate = function(buffer, callback) {","num":109},{"hash":"41ae33d60cd51f03044d9f392d6dd83201b7ea45","line":"  zlibBuffer(new Inflate(), buffer, callback);","num":110},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":111},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":112},{"hash":"2a3f36659d5849a2392560462608514be93832d2","line":"exports.gunzip = function(buffer, callback) {","num":113},{"hash":"119592df3dd9648382f168f4dd8269fa0cdd3e1f","line":"  zlibBuffer(new Gunzip(), buffer, callback);","num":114},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"720f77554a2a8990c2ff4441d063b5b6e03d3751","line":"exports.inflateRaw = function(buffer, callback) {","num":117},{"hash":"d928e333a102d657195adb7159a57c71718cb21a","line":"  zlibBuffer(new InflateRaw(), buffer, callback);","num":118},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":119},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":120},{"hash":"fcdccb705c34cd0e8db15cb27f988e8e38e94ac9","line":"function zlibBuffer(engine, buffer, callback) {","num":121},{"hash":"d0884e8e1ed58f237523327938a946ead0deab89","line":"  var buffers = [];","num":122},{"hash":"600d1a75dc03fd1e1795a1aaa5943307111e2731","line":"  var nread = 0;","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"06f74331a0c481f58d695b2a25964e0b8b074dc0","line":"  function onError(err) {","num":125},{"hash":"f2b300375249613c31afd1f824e45ee419473a8b","line":"    engine.removeListener('end', onEnd);","num":126},{"hash":"b103202f04f90fe0e3e9607def19f92f34d3b957","line":"    engine.removeListener('error', onError);","num":127},{"hash":"676614e8d6c57f595e557370e051075e2438fed0","line":"    callback(err);","num":128},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"b8b1f6911b807501db3cc7b09bb28ccdb9c7c426","line":"  function onData(chunk) {","num":131},{"hash":"16b28e2ebd38a79bd4a282ce1a4784dd0f1ba809","line":"    buffers.push(chunk);","num":132},{"hash":"9025de14c79076fd31d72596a43d866f5532d751","line":"    nread += chunk.length;","num":133},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":134},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":135},{"hash":"62742b28ce572588379e087c3cfd0b779fd6805e","line":"  function onEnd() {","num":136},{"hash":"fbee5cc70fd2b62f540f0fa7fa6577146066d297","line":"    var buffer;","num":137},{"hash":"a60bc11137c88494b09330952c1cc5e47fe70fac","line":"    switch(buffers.length) {","num":138},{"hash":"92b89c86887087845e0ec066b68d8f9b0b548bd6","line":"      case 0:","num":139},{"hash":"7e9edd86e5c7fa0e94b060f0e94fc2c30c12571b","line":"        buffer = new Buffer(0);","num":140},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":141},{"hash":"a44871e4557eb6099503453c26a3a50516cf1da4","line":"      case 1:","num":142},{"hash":"a720894d48591c65407e1221afa514e3aaf761ff","line":"        buffer = buffers[0];","num":143},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":144},{"hash":"71b822126e9fba870e0f65ef87dc26cc5d3fff4a","line":"      default:","num":145},{"hash":"2eba823adf82001fff961d0a9b1ee1e6cb0cebdb","line":"        buffer = new Buffer(nread);","num":146},{"hash":"7bc5562cedd27764aea3b5ea4f59f5216b668997","line":"        var n = 0;","num":147},{"hash":"1dd0eef18c51383dacb1c0584a1ddc248e3a00d4","line":"        buffers.forEach(function(b) {","num":148},{"hash":"5e82b1f1924eb2a1186685207152a50c61a355a5","line":"          var l = b.length;","num":149},{"hash":"e1f50560623ca00c885cb456dce61cc14d291176","line":"          b.copy(buffer, n, 0, l);","num":150},{"hash":"9a1131189bb41f49147128298244bed715e83ebc","line":"          n += l;","num":151},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"        });","num":152},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":153},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":154},{"hash":"8caf3a7376fa8e66cbc823e5be83990c206f2c7c","line":"    callback(null, buffer);","num":155},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":156},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":157},{"hash":"8f416e3985daa4841ae84a12dc6ec09be1787e82","line":"  engine.on('error', onError);","num":158},{"hash":"dca7d1e9db8a416dd2bc202f11960d527a4cbb9c","line":"  engine.on('data', onData);","num":159},{"hash":"2c870849d2092f368a32f121e386e50cd3b5bf81","line":"  engine.on('end', onEnd);","num":160},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":161},{"hash":"ff46794fa229e8dc0e843ef8dbef1741f3d477db","line":"  engine.write(buffer);","num":162},{"hash":"521f144127045f6f47cd386de32c4fcd8bf57e04","line":"  engine.end();","num":163},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":164},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":165},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":166},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":167},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":168},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":169},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":170},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":171},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":172},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":173},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":174},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":175},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":176},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":177},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":180},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":181},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":182},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":183},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":184},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":185},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":186},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":187},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":188},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":189},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":190},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":191},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":192},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":193},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":194},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":195},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":196},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":197},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":198},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":199},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":200},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":201},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":202},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":203},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":204},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":205},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":206},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":207},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":208},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":209},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":210},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":211},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":212},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":213},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":214},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":215},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":216},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":217},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":218},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":219},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":220},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":221},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":222},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":223},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":224},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":225},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":226},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":227},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":228},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":229},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":230},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":231},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":232},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":233},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":234},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":235},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":236},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":237},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":238},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":239},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":240},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":241},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":242},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":243},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":244},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":245},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":246},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":247},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":248},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":249},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":250},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":251},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":252},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":253},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":254},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":255},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":256},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":257},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":258},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":259},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":260},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":261},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":262},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":263},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":264},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":265},{"hash":"55789098f52782b1dfe380f2dba4bfe83c8a08fd","line":"  if (opts.dictionary) {","num":266},{"hash":"f11d9ce73bbdb224c4eda4b31d9b5afa91cf99b6","line":"    if (!Buffer.isBuffer(opts.dictionary)) {","num":267},{"hash":"3d1011848e07bd598f3bc2a11851d68837bb9303","line":"      throw new Error('Invalid dictionary: it should be a Buffer instance');","num":268},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":269},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":272},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":273},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":274},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":275},{"hash":"6187cd7afbac27796b9be27cdc39283f437e4775","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY,","num":276},{"hash":"632c2cc1dd5f9cbf15a2bf709f21dd77a06e2524","line":"                     opts.dictionary);","num":277},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":278},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":279},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":280},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":281},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":282},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":283},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":284},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":285},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":286},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":287},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":288},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":289},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":290},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":291},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":292},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":293},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":294},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":295},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":296},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":297},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":298},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":299},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":300},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":301},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":302},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":303},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":304},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":305},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":306},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":307},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":308},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":309},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":310},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":311},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":312},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":313},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":314},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":315},{"hash":"5e7a91ff48d23f65f9642e493ffc2c59444fecd0","line":"Zlib.prototype.reset = function reset() {","num":316},{"hash":"1f1a0296385c9c957c32ca8cd0172dbc61e77dbb","line":"  return this._binding.reset();","num":317},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":318},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":319},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":320},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":321},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":322},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":323},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":324},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":325},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":326},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":327},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":328},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":329},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":330},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":331},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":332},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":333},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":334},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":335},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":336},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":337},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":338},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":339},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":340},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":341},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":342},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":343},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":344},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":345},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":346},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":347},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":348},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":349},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":350},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":351},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":352},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":353},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":354},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":355},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":356},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":357},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":358},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":359},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":360},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":361},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":362},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":363},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":364},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":365},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":366},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":367},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":368},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":369},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":370},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":371},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":372},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":373},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":374},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":375},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":376},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":377},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":378},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":379},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":380},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":381},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":382},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":383},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":384},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":385},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":386},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":387},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":388},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":389},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":390},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":391},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":392},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":393},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":394},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":395},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":396},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":397},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":398},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":399},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":400},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":401},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":402},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":403},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":404},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":405},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":406},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":407},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":408},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":409},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":410},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":411},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":412},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":413},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":414},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":415},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":416},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":417},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":418},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":419},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":420},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":421},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":422},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":423},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":424},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":425},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":426},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":427},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":428},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":429},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":430},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":431},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":432},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":433},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":434},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":435},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":436}]},{"idx":7,"commit":"40c93486e8b08f7f37dfd8be95ff03990ab858bd","msg":"Fix #2365 zlib crashing on invalid input\n\nFix zlib crashes on error due to improper use of removeListener\nin the error handler","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"493e9878a747326a240a21ee4f8de204f0102647","line":"// Convenience methods.","num":91},{"hash":"5707d856530dfaba08e669f217319b486ab0558e","line":"// compress/decompress a string or buffer in one step.","num":92},{"hash":"0088394a0b776f9924f07ba7f0a72cff48ba8a3a","line":"exports.deflate = function(buffer, callback) {","num":93},{"hash":"78e81ea73dd1e7d66c98b4de3452ac8b0f4bdb1f","line":"  zlibBuffer(new Deflate(), buffer, callback);","num":94},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":95},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":96},{"hash":"0e04538e47cfeb5a9e79cf109808155d2fdd6350","line":"exports.gzip = function(buffer, callback) {","num":97},{"hash":"c4399070a304de9a251a6a9b3790de0e96027ca3","line":"  zlibBuffer(new Gzip(), buffer, callback);","num":98},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":99},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":100},{"hash":"0c0f2415fe6064da3e69a8959137f53ed2bf1a26","line":"exports.deflateRaw = function(buffer, callback) {","num":101},{"hash":"bdf4b937002b2e1735b17ce14defebccbfded26c","line":"  zlibBuffer(new DeflateRaw(), buffer, callback);","num":102},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"a5331d57605d6bcc83dce460cfca607a67865bf9","line":"exports.unzip = function(buffer, callback) {","num":105},{"hash":"29685edde0671f050c9a023936b34c0aafc1f30c","line":"  zlibBuffer(new Unzip(), buffer, callback);","num":106},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":107},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":108},{"hash":"a78be292c2e3e1b9fecd50f6275add3751e0a595","line":"exports.inflate = function(buffer, callback) {","num":109},{"hash":"41ae33d60cd51f03044d9f392d6dd83201b7ea45","line":"  zlibBuffer(new Inflate(), buffer, callback);","num":110},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":111},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":112},{"hash":"2a3f36659d5849a2392560462608514be93832d2","line":"exports.gunzip = function(buffer, callback) {","num":113},{"hash":"119592df3dd9648382f168f4dd8269fa0cdd3e1f","line":"  zlibBuffer(new Gunzip(), buffer, callback);","num":114},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"720f77554a2a8990c2ff4441d063b5b6e03d3751","line":"exports.inflateRaw = function(buffer, callback) {","num":117},{"hash":"d928e333a102d657195adb7159a57c71718cb21a","line":"  zlibBuffer(new InflateRaw(), buffer, callback);","num":118},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":119},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":120},{"hash":"fcdccb705c34cd0e8db15cb27f988e8e38e94ac9","line":"function zlibBuffer(engine, buffer, callback) {","num":121},{"hash":"d0884e8e1ed58f237523327938a946ead0deab89","line":"  var buffers = [];","num":122},{"hash":"600d1a75dc03fd1e1795a1aaa5943307111e2731","line":"  var nread = 0;","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"06f74331a0c481f58d695b2a25964e0b8b074dc0","line":"  function onError(err) {","num":125},{"hash":"f2b300375249613c31afd1f824e45ee419473a8b","line":"    engine.removeListener('end', onEnd);","num":126},{"hash":"b103202f04f90fe0e3e9607def19f92f34d3b957","line":"    engine.removeListener('error', onError);","num":127},{"hash":"676614e8d6c57f595e557370e051075e2438fed0","line":"    callback(err);","num":128},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"b8b1f6911b807501db3cc7b09bb28ccdb9c7c426","line":"  function onData(chunk) {","num":131},{"hash":"16b28e2ebd38a79bd4a282ce1a4784dd0f1ba809","line":"    buffers.push(chunk);","num":132},{"hash":"9025de14c79076fd31d72596a43d866f5532d751","line":"    nread += chunk.length;","num":133},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":134},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":135},{"hash":"62742b28ce572588379e087c3cfd0b779fd6805e","line":"  function onEnd() {","num":136},{"hash":"fbee5cc70fd2b62f540f0fa7fa6577146066d297","line":"    var buffer;","num":137},{"hash":"a60bc11137c88494b09330952c1cc5e47fe70fac","line":"    switch(buffers.length) {","num":138},{"hash":"92b89c86887087845e0ec066b68d8f9b0b548bd6","line":"      case 0:","num":139},{"hash":"7e9edd86e5c7fa0e94b060f0e94fc2c30c12571b","line":"        buffer = new Buffer(0);","num":140},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":141},{"hash":"a44871e4557eb6099503453c26a3a50516cf1da4","line":"      case 1:","num":142},{"hash":"a720894d48591c65407e1221afa514e3aaf761ff","line":"        buffer = buffers[0];","num":143},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":144},{"hash":"71b822126e9fba870e0f65ef87dc26cc5d3fff4a","line":"      default:","num":145},{"hash":"2eba823adf82001fff961d0a9b1ee1e6cb0cebdb","line":"        buffer = new Buffer(nread);","num":146},{"hash":"7bc5562cedd27764aea3b5ea4f59f5216b668997","line":"        var n = 0;","num":147},{"hash":"1dd0eef18c51383dacb1c0584a1ddc248e3a00d4","line":"        buffers.forEach(function(b) {","num":148},{"hash":"5e82b1f1924eb2a1186685207152a50c61a355a5","line":"          var l = b.length;","num":149},{"hash":"e1f50560623ca00c885cb456dce61cc14d291176","line":"          b.copy(buffer, n, 0, l);","num":150},{"hash":"9a1131189bb41f49147128298244bed715e83ebc","line":"          n += l;","num":151},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"        });","num":152},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":153},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":154},{"hash":"8caf3a7376fa8e66cbc823e5be83990c206f2c7c","line":"    callback(null, buffer);","num":155},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":156},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":157},{"hash":"8f416e3985daa4841ae84a12dc6ec09be1787e82","line":"  engine.on('error', onError);","num":158},{"hash":"dca7d1e9db8a416dd2bc202f11960d527a4cbb9c","line":"  engine.on('data', onData);","num":159},{"hash":"2c870849d2092f368a32f121e386e50cd3b5bf81","line":"  engine.on('end', onEnd);","num":160},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":161},{"hash":"ff46794fa229e8dc0e843ef8dbef1741f3d477db","line":"  engine.write(buffer);","num":162},{"hash":"521f144127045f6f47cd386de32c4fcd8bf57e04","line":"  engine.end();","num":163},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":164},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":165},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":166},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":167},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":168},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":169},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":170},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":171},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":172},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":173},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":174},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":175},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":176},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":177},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":180},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":181},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":182},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":183},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":184},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":185},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":186},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":187},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":188},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":189},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":190},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":191},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":192},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":193},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":194},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":195},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":196},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":197},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":198},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":199},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":200},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":201},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":202},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":203},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":204},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":205},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":206},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":207},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":208},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":209},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":210},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":211},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":212},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":213},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":214},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":215},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":216},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":217},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":218},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":219},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":220},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":221},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":222},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":223},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":224},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":225},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":226},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":227},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":228},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":229},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":230},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":231},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":232},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":233},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":234},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":235},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":236},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":237},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":238},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":239},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":240},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":241},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":242},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":243},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":244},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":245},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":246},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":247},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":248},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":249},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":250},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":251},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":252},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":253},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":254},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":255},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":256},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":257},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":258},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":259},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":260},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":261},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":262},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":263},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":264},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":265},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":266},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":267},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":268},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":269},{"hash":"e8921af5b315ca27f7c910dbf5e2bffbd410ea2b","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY);","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":272},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":273},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":274},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":275},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":276},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":277},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":278},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":279},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":280},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":281},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":282},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":283},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":284},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":285},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":286},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":287},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":288},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":289},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":290},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":291},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":292},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":293},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":294},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":295},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":296},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":297},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":298},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":299},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":300},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":301},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":302},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":303},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":304},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":305},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":306},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":307},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":308},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":309},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":310},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":311},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":312},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":313},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":314},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":315},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":316},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":317},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":318},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":319},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":320},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":321},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":322},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":323},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":324},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":325},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":326},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":327},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":328},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":329},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":330},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":331},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":332},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":333},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":334},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":335},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":336},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":337},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":338},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":339},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":340},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":341},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":342},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":343},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":344},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":345},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":346},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":347},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":348},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":349},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":350},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":351},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":352},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":353},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":354},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":355},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":356},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":357},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":358},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":359},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":360},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":361},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":362},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":363},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":364},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":365},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":366},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":367},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":368},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":369},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":370},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":371},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":372},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":373},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":374},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":375},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":376},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":377},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":378},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":379},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":380},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":381},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":382},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":383},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":384},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":385},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":386},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":387},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":388},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":389},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":390},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":391},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":392},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":393},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":394},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":395},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":396},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":397},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":398},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":399},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":400},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":401},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":402},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":403},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":404},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":405},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":406},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":407},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":408},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":409},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":410},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":411},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":412},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":413},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":414},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":415},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":416},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":417},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":418},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":419},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":420},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":421},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":422},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":423},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":424},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":425}]},{"idx":8,"commit":"71ae1753196f41d569d20a940ed036a50c292069","msg":"zlib: reset() method for deflate/inflate streams\n\n* ammended test-zlib-dictionary to cover reusing streams","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"493e9878a747326a240a21ee4f8de204f0102647","line":"// Convenience methods.","num":91},{"hash":"5707d856530dfaba08e669f217319b486ab0558e","line":"// compress/decompress a string or buffer in one step.","num":92},{"hash":"0088394a0b776f9924f07ba7f0a72cff48ba8a3a","line":"exports.deflate = function(buffer, callback) {","num":93},{"hash":"78e81ea73dd1e7d66c98b4de3452ac8b0f4bdb1f","line":"  zlibBuffer(new Deflate(), buffer, callback);","num":94},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":95},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":96},{"hash":"0e04538e47cfeb5a9e79cf109808155d2fdd6350","line":"exports.gzip = function(buffer, callback) {","num":97},{"hash":"c4399070a304de9a251a6a9b3790de0e96027ca3","line":"  zlibBuffer(new Gzip(), buffer, callback);","num":98},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":99},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":100},{"hash":"0c0f2415fe6064da3e69a8959137f53ed2bf1a26","line":"exports.deflateRaw = function(buffer, callback) {","num":101},{"hash":"bdf4b937002b2e1735b17ce14defebccbfded26c","line":"  zlibBuffer(new DeflateRaw(), buffer, callback);","num":102},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"a5331d57605d6bcc83dce460cfca607a67865bf9","line":"exports.unzip = function(buffer, callback) {","num":105},{"hash":"29685edde0671f050c9a023936b34c0aafc1f30c","line":"  zlibBuffer(new Unzip(), buffer, callback);","num":106},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":107},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":108},{"hash":"a78be292c2e3e1b9fecd50f6275add3751e0a595","line":"exports.inflate = function(buffer, callback) {","num":109},{"hash":"41ae33d60cd51f03044d9f392d6dd83201b7ea45","line":"  zlibBuffer(new Inflate(), buffer, callback);","num":110},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":111},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":112},{"hash":"2a3f36659d5849a2392560462608514be93832d2","line":"exports.gunzip = function(buffer, callback) {","num":113},{"hash":"119592df3dd9648382f168f4dd8269fa0cdd3e1f","line":"  zlibBuffer(new Gunzip(), buffer, callback);","num":114},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"720f77554a2a8990c2ff4441d063b5b6e03d3751","line":"exports.inflateRaw = function(buffer, callback) {","num":117},{"hash":"d928e333a102d657195adb7159a57c71718cb21a","line":"  zlibBuffer(new InflateRaw(), buffer, callback);","num":118},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":119},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":120},{"hash":"fcdccb705c34cd0e8db15cb27f988e8e38e94ac9","line":"function zlibBuffer(engine, buffer, callback) {","num":121},{"hash":"d0884e8e1ed58f237523327938a946ead0deab89","line":"  var buffers = [];","num":122},{"hash":"600d1a75dc03fd1e1795a1aaa5943307111e2731","line":"  var nread = 0;","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"f491decc7de69eced300ce04fd6041a7cf958d3e","line":"  engine.on('error', function(err) {","num":125},{"hash":"a87d6bb1442d19bf07cf1ef2a22b2653e3d4c96c","line":"    engine.removeListener('end');","num":126},{"hash":"85a7a1514554d8c50e7bbe13fd02437feb3f161f","line":"    engine.removeListener('error');","num":127},{"hash":"676614e8d6c57f595e557370e051075e2438fed0","line":"    callback(err);","num":128},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"a543e86652fa66830cb802e0f18d23b1907e4012","line":"  engine.on('data', function(chunk) {","num":131},{"hash":"16b28e2ebd38a79bd4a282ce1a4784dd0f1ba809","line":"    buffers.push(chunk);","num":132},{"hash":"9025de14c79076fd31d72596a43d866f5532d751","line":"    nread += chunk.length;","num":133},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":134},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":135},{"hash":"bba2da26861e8092a4a973b9130181ba2a01bf23","line":"  engine.on('end', function() {","num":136},{"hash":"fbee5cc70fd2b62f540f0fa7fa6577146066d297","line":"    var buffer;","num":137},{"hash":"a60bc11137c88494b09330952c1cc5e47fe70fac","line":"    switch(buffers.length) {","num":138},{"hash":"92b89c86887087845e0ec066b68d8f9b0b548bd6","line":"      case 0:","num":139},{"hash":"7e9edd86e5c7fa0e94b060f0e94fc2c30c12571b","line":"        buffer = new Buffer(0);","num":140},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":141},{"hash":"a44871e4557eb6099503453c26a3a50516cf1da4","line":"      case 1:","num":142},{"hash":"a720894d48591c65407e1221afa514e3aaf761ff","line":"        buffer = buffers[0];","num":143},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":144},{"hash":"71b822126e9fba870e0f65ef87dc26cc5d3fff4a","line":"      default:","num":145},{"hash":"2eba823adf82001fff961d0a9b1ee1e6cb0cebdb","line":"        buffer = new Buffer(nread);","num":146},{"hash":"7bc5562cedd27764aea3b5ea4f59f5216b668997","line":"        var n = 0;","num":147},{"hash":"1dd0eef18c51383dacb1c0584a1ddc248e3a00d4","line":"        buffers.forEach(function(b) {","num":148},{"hash":"5e82b1f1924eb2a1186685207152a50c61a355a5","line":"          var l = b.length;","num":149},{"hash":"e1f50560623ca00c885cb456dce61cc14d291176","line":"          b.copy(buffer, n, 0, l);","num":150},{"hash":"9a1131189bb41f49147128298244bed715e83ebc","line":"          n += l;","num":151},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"        });","num":152},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":153},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":154},{"hash":"8caf3a7376fa8e66cbc823e5be83990c206f2c7c","line":"    callback(null, buffer);","num":155},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":156},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":157},{"hash":"ff46794fa229e8dc0e843ef8dbef1741f3d477db","line":"  engine.write(buffer);","num":158},{"hash":"521f144127045f6f47cd386de32c4fcd8bf57e04","line":"  engine.end();","num":159},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":160},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":161},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":162},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":163},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":164},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":165},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":166},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":167},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":168},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":169},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":170},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":171},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":172},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":173},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":174},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":175},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":176},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":177},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":178},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":179},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":180},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":181},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":182},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":183},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":184},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":185},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":186},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":187},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":188},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":189},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":190},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":191},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":192},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":193},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":194},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":195},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":196},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":197},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":198},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":199},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":200},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":201},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":202},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":203},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":204},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":205},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":206},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":207},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":208},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":209},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":210},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":211},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":212},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":213},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":214},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":215},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":216},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":217},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":218},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":219},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":220},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":221},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":222},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":223},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":224},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":225},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":226},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":227},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":228},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":229},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":230},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":231},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":232},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":233},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":234},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":235},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":236},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":237},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":238},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":239},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":240},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":241},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":242},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":243},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":244},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":245},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":246},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":247},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":248},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":249},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":250},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":251},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":252},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":253},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":254},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":255},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":256},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":257},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":258},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":259},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":260},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":261},{"hash":"55789098f52782b1dfe380f2dba4bfe83c8a08fd","line":"  if (opts.dictionary) {","num":262},{"hash":"f11d9ce73bbdb224c4eda4b31d9b5afa91cf99b6","line":"    if (!Buffer.isBuffer(opts.dictionary)) {","num":263},{"hash":"3d1011848e07bd598f3bc2a11851d68837bb9303","line":"      throw new Error('Invalid dictionary: it should be a Buffer instance');","num":264},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":265},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":266},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":267},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":268},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":269},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":270},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":271},{"hash":"6187cd7afbac27796b9be27cdc39283f437e4775","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY,","num":272},{"hash":"632c2cc1dd5f9cbf15a2bf709f21dd77a06e2524","line":"                     opts.dictionary);","num":273},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":274},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":275},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":276},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":277},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":278},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":279},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":280},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":281},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":282},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":283},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":284},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":285},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":286},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":287},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":288},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":289},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":290},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":291},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":292},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":293},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":294},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":295},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":296},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":297},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":298},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":299},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":300},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":301},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":302},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":303},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":304},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":305},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":306},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":307},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":308},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":309},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":310},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":311},{"hash":"5e7a91ff48d23f65f9642e493ffc2c59444fecd0","line":"Zlib.prototype.reset = function reset() {","num":312},{"hash":"1f1a0296385c9c957c32ca8cd0172dbc61e77dbb","line":"  return this._binding.reset();","num":313},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":314},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":315},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":316},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":317},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":318},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":319},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":320},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":321},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":322},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":323},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":324},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":325},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":326},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":327},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":328},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":329},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":330},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":331},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":332},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":333},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":334},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":335},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":336},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":337},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":338},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":339},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":340},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":341},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":342},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":343},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":344},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":345},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":346},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":347},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":348},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":349},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":350},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":351},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":352},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":353},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":354},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":355},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":356},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":357},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":358},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":359},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":360},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":361},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":362},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":363},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":364},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":365},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":366},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":367},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":368},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":369},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":370},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":371},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":372},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":373},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":374},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":375},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":376},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":377},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":378},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":379},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":380},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":381},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":382},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":383},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":384},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":385},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":386},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":387},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":388},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":389},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":390},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":391},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":392},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":393},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":394},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":395},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":396},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":397},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":398},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":399},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":400},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":401},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":402},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":403},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":404},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":405},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":406},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":407},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":408},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":409},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":410},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":411},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":412},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":413},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":414},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":415},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":416},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":417},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":418},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":419},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":420},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":421},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":422},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":423},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":424},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":425},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":426},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":427},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":428},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":429},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":430},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":431},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":432}]},{"idx":9,"commit":"e609195202d79221edc037309c3ef459514e3ff4","msg":"[zlib] added dictionary support","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"493e9878a747326a240a21ee4f8de204f0102647","line":"// Convenience methods.","num":91},{"hash":"5707d856530dfaba08e669f217319b486ab0558e","line":"// compress/decompress a string or buffer in one step.","num":92},{"hash":"0088394a0b776f9924f07ba7f0a72cff48ba8a3a","line":"exports.deflate = function(buffer, callback) {","num":93},{"hash":"78e81ea73dd1e7d66c98b4de3452ac8b0f4bdb1f","line":"  zlibBuffer(new Deflate(), buffer, callback);","num":94},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":95},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":96},{"hash":"0e04538e47cfeb5a9e79cf109808155d2fdd6350","line":"exports.gzip = function(buffer, callback) {","num":97},{"hash":"c4399070a304de9a251a6a9b3790de0e96027ca3","line":"  zlibBuffer(new Gzip(), buffer, callback);","num":98},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":99},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":100},{"hash":"0c0f2415fe6064da3e69a8959137f53ed2bf1a26","line":"exports.deflateRaw = function(buffer, callback) {","num":101},{"hash":"bdf4b937002b2e1735b17ce14defebccbfded26c","line":"  zlibBuffer(new DeflateRaw(), buffer, callback);","num":102},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"a5331d57605d6bcc83dce460cfca607a67865bf9","line":"exports.unzip = function(buffer, callback) {","num":105},{"hash":"29685edde0671f050c9a023936b34c0aafc1f30c","line":"  zlibBuffer(new Unzip(), buffer, callback);","num":106},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":107},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":108},{"hash":"a78be292c2e3e1b9fecd50f6275add3751e0a595","line":"exports.inflate = function(buffer, callback) {","num":109},{"hash":"41ae33d60cd51f03044d9f392d6dd83201b7ea45","line":"  zlibBuffer(new Inflate(), buffer, callback);","num":110},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":111},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":112},{"hash":"2a3f36659d5849a2392560462608514be93832d2","line":"exports.gunzip = function(buffer, callback) {","num":113},{"hash":"119592df3dd9648382f168f4dd8269fa0cdd3e1f","line":"  zlibBuffer(new Gunzip(), buffer, callback);","num":114},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"720f77554a2a8990c2ff4441d063b5b6e03d3751","line":"exports.inflateRaw = function(buffer, callback) {","num":117},{"hash":"d928e333a102d657195adb7159a57c71718cb21a","line":"  zlibBuffer(new InflateRaw(), buffer, callback);","num":118},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":119},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":120},{"hash":"fcdccb705c34cd0e8db15cb27f988e8e38e94ac9","line":"function zlibBuffer(engine, buffer, callback) {","num":121},{"hash":"d0884e8e1ed58f237523327938a946ead0deab89","line":"  var buffers = [];","num":122},{"hash":"600d1a75dc03fd1e1795a1aaa5943307111e2731","line":"  var nread = 0;","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"f491decc7de69eced300ce04fd6041a7cf958d3e","line":"  engine.on('error', function(err) {","num":125},{"hash":"a87d6bb1442d19bf07cf1ef2a22b2653e3d4c96c","line":"    engine.removeListener('end');","num":126},{"hash":"85a7a1514554d8c50e7bbe13fd02437feb3f161f","line":"    engine.removeListener('error');","num":127},{"hash":"676614e8d6c57f595e557370e051075e2438fed0","line":"    callback(err);","num":128},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"a543e86652fa66830cb802e0f18d23b1907e4012","line":"  engine.on('data', function(chunk) {","num":131},{"hash":"16b28e2ebd38a79bd4a282ce1a4784dd0f1ba809","line":"    buffers.push(chunk);","num":132},{"hash":"9025de14c79076fd31d72596a43d866f5532d751","line":"    nread += chunk.length;","num":133},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":134},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":135},{"hash":"bba2da26861e8092a4a973b9130181ba2a01bf23","line":"  engine.on('end', function() {","num":136},{"hash":"fbee5cc70fd2b62f540f0fa7fa6577146066d297","line":"    var buffer;","num":137},{"hash":"a60bc11137c88494b09330952c1cc5e47fe70fac","line":"    switch(buffers.length) {","num":138},{"hash":"92b89c86887087845e0ec066b68d8f9b0b548bd6","line":"      case 0:","num":139},{"hash":"7e9edd86e5c7fa0e94b060f0e94fc2c30c12571b","line":"        buffer = new Buffer(0);","num":140},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":141},{"hash":"a44871e4557eb6099503453c26a3a50516cf1da4","line":"      case 1:","num":142},{"hash":"a720894d48591c65407e1221afa514e3aaf761ff","line":"        buffer = buffers[0];","num":143},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":144},{"hash":"71b822126e9fba870e0f65ef87dc26cc5d3fff4a","line":"      default:","num":145},{"hash":"2eba823adf82001fff961d0a9b1ee1e6cb0cebdb","line":"        buffer = new Buffer(nread);","num":146},{"hash":"7bc5562cedd27764aea3b5ea4f59f5216b668997","line":"        var n = 0;","num":147},{"hash":"1dd0eef18c51383dacb1c0584a1ddc248e3a00d4","line":"        buffers.forEach(function(b) {","num":148},{"hash":"5e82b1f1924eb2a1186685207152a50c61a355a5","line":"          var l = b.length;","num":149},{"hash":"e1f50560623ca00c885cb456dce61cc14d291176","line":"          b.copy(buffer, n, 0, l);","num":150},{"hash":"9a1131189bb41f49147128298244bed715e83ebc","line":"          n += l;","num":151},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"        });","num":152},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":153},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":154},{"hash":"8caf3a7376fa8e66cbc823e5be83990c206f2c7c","line":"    callback(null, buffer);","num":155},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":156},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":157},{"hash":"ff46794fa229e8dc0e843ef8dbef1741f3d477db","line":"  engine.write(buffer);","num":158},{"hash":"521f144127045f6f47cd386de32c4fcd8bf57e04","line":"  engine.end();","num":159},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":160},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":161},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":162},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":163},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":164},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":165},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":166},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":167},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":168},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":169},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":170},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":171},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":172},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":173},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":174},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":175},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":176},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":177},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":178},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":179},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":180},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":181},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":182},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":183},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":184},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":185},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":186},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":187},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":188},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":189},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":190},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":191},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":192},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":193},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":194},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":195},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":196},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":197},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":198},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":199},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":200},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":201},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":202},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":203},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":204},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":205},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":206},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":207},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":208},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":209},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":210},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":211},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":212},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":213},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":214},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":215},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":216},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":217},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":218},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":219},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":220},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":221},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":222},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":223},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":224},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":225},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":226},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":227},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":228},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":229},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":230},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":231},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":232},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":233},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":234},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":235},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":236},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":237},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":238},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":239},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":240},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":241},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":242},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":243},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":244},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":245},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":246},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":247},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":248},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":249},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":250},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":251},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":252},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":253},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":254},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":255},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":256},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":257},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":258},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":259},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":260},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":261},{"hash":"55789098f52782b1dfe380f2dba4bfe83c8a08fd","line":"  if (opts.dictionary) {","num":262},{"hash":"f11d9ce73bbdb224c4eda4b31d9b5afa91cf99b6","line":"    if (!Buffer.isBuffer(opts.dictionary)) {","num":263},{"hash":"3d1011848e07bd598f3bc2a11851d68837bb9303","line":"      throw new Error('Invalid dictionary: it should be a Buffer instance');","num":264},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":265},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":266},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":267},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":268},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":269},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":270},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":271},{"hash":"6187cd7afbac27796b9be27cdc39283f437e4775","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY,","num":272},{"hash":"632c2cc1dd5f9cbf15a2bf709f21dd77a06e2524","line":"                     opts.dictionary);","num":273},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":274},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":275},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":276},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":277},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":278},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":279},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":280},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":281},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":282},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":283},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":284},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":285},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":286},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":287},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":288},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":289},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":290},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":291},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":292},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":293},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":294},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":295},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":296},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":297},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":298},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":299},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":300},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":301},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":302},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":303},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":304},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":305},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":306},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":307},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":308},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":309},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":310},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":311},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":312},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":313},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":314},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":315},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":316},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":317},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":318},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":319},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":320},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":321},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":322},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":323},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":324},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":325},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":326},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":327},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":328},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":329},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":330},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":331},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":332},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":333},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":334},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":335},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":336},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":337},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":338},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":339},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":340},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":341},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":342},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":343},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":344},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":345},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":346},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":347},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":348},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":349},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":350},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":351},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":352},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":353},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":354},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":355},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":356},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":357},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":358},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":359},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":360},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":361},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":362},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":363},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":364},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":365},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":366},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":367},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":368},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":369},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":370},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":371},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":372},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":373},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":374},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":375},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":376},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":377},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":378},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":379},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":380},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":381},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":382},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":383},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":384},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":385},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":386},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":387},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":388},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":389},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":390},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":391},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":392},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":393},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":394},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":395},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":396},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":397},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":398},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":399},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":400},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":401},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":402},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":403},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":404},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":405},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":406},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":407},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":408},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":409},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":410},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":411},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":412},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":413},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":414},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":415},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":416},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":417},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":418},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":419},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":420},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":421},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":422},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":423},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":424},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":425},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":426},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":427},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":428}]},{"idx":10,"commit":"5213c3903870ff6072858fb923970672d7868233","msg":"Close #1930 Convenience methods for zlib\n\nThis is a combination of 20 commits. Their commit messages are preserved\nbelow for the benefit of future generations.\n\n* Adding a shortcut to easily compress/decompress a string of text.\n* Making the API consistent. unzip should accept a Buffer for input as well.\n* Adding docs.\n* Oops, typo.\n* Propagate error through the callback.\n* Adding zlib from string tests.\n* Typo in test.\n* Remove 'end' listeners, and join buffers properly instead of joining them\n  as a string.\n* Oops, needs to be rendered to a string.\n* Updated test to include multi-byte characters.\n* unzip should return a raw Buffer. Updated docs to reflect.\n* And finally updating test.\n* EventEmitter.destroy() is a bit more customary\n* Revert \"EventEmitter.destroy() is a bit more customary\"\n* Renaming internal methods to \"buffer\" instead of string.\n* Remove the 'error' listeners as well.\n* @isaacs: spacing/style, and compress duplicate functions into one\n* @isaacs: Update docs\n* @isaacs: doc style fix","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"493e9878a747326a240a21ee4f8de204f0102647","line":"// Convenience methods.","num":91},{"hash":"5707d856530dfaba08e669f217319b486ab0558e","line":"// compress/decompress a string or buffer in one step.","num":92},{"hash":"0088394a0b776f9924f07ba7f0a72cff48ba8a3a","line":"exports.deflate = function(buffer, callback) {","num":93},{"hash":"78e81ea73dd1e7d66c98b4de3452ac8b0f4bdb1f","line":"  zlibBuffer(new Deflate(), buffer, callback);","num":94},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":95},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":96},{"hash":"0e04538e47cfeb5a9e79cf109808155d2fdd6350","line":"exports.gzip = function(buffer, callback) {","num":97},{"hash":"c4399070a304de9a251a6a9b3790de0e96027ca3","line":"  zlibBuffer(new Gzip(), buffer, callback);","num":98},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":99},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":100},{"hash":"0c0f2415fe6064da3e69a8959137f53ed2bf1a26","line":"exports.deflateRaw = function(buffer, callback) {","num":101},{"hash":"bdf4b937002b2e1735b17ce14defebccbfded26c","line":"  zlibBuffer(new DeflateRaw(), buffer, callback);","num":102},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"a5331d57605d6bcc83dce460cfca607a67865bf9","line":"exports.unzip = function(buffer, callback) {","num":105},{"hash":"29685edde0671f050c9a023936b34c0aafc1f30c","line":"  zlibBuffer(new Unzip(), buffer, callback);","num":106},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":107},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":108},{"hash":"a78be292c2e3e1b9fecd50f6275add3751e0a595","line":"exports.inflate = function(buffer, callback) {","num":109},{"hash":"41ae33d60cd51f03044d9f392d6dd83201b7ea45","line":"  zlibBuffer(new Inflate(), buffer, callback);","num":110},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":111},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":112},{"hash":"2a3f36659d5849a2392560462608514be93832d2","line":"exports.gunzip = function(buffer, callback) {","num":113},{"hash":"119592df3dd9648382f168f4dd8269fa0cdd3e1f","line":"  zlibBuffer(new Gunzip(), buffer, callback);","num":114},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"720f77554a2a8990c2ff4441d063b5b6e03d3751","line":"exports.inflateRaw = function(buffer, callback) {","num":117},{"hash":"d928e333a102d657195adb7159a57c71718cb21a","line":"  zlibBuffer(new InflateRaw(), buffer, callback);","num":118},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":119},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":120},{"hash":"fcdccb705c34cd0e8db15cb27f988e8e38e94ac9","line":"function zlibBuffer(engine, buffer, callback) {","num":121},{"hash":"d0884e8e1ed58f237523327938a946ead0deab89","line":"  var buffers = [];","num":122},{"hash":"600d1a75dc03fd1e1795a1aaa5943307111e2731","line":"  var nread = 0;","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"f491decc7de69eced300ce04fd6041a7cf958d3e","line":"  engine.on('error', function(err) {","num":125},{"hash":"a87d6bb1442d19bf07cf1ef2a22b2653e3d4c96c","line":"    engine.removeListener('end');","num":126},{"hash":"85a7a1514554d8c50e7bbe13fd02437feb3f161f","line":"    engine.removeListener('error');","num":127},{"hash":"676614e8d6c57f595e557370e051075e2438fed0","line":"    callback(err);","num":128},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"a543e86652fa66830cb802e0f18d23b1907e4012","line":"  engine.on('data', function(chunk) {","num":131},{"hash":"16b28e2ebd38a79bd4a282ce1a4784dd0f1ba809","line":"    buffers.push(chunk);","num":132},{"hash":"9025de14c79076fd31d72596a43d866f5532d751","line":"    nread += chunk.length;","num":133},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":134},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":135},{"hash":"bba2da26861e8092a4a973b9130181ba2a01bf23","line":"  engine.on('end', function() {","num":136},{"hash":"fbee5cc70fd2b62f540f0fa7fa6577146066d297","line":"    var buffer;","num":137},{"hash":"a60bc11137c88494b09330952c1cc5e47fe70fac","line":"    switch(buffers.length) {","num":138},{"hash":"92b89c86887087845e0ec066b68d8f9b0b548bd6","line":"      case 0:","num":139},{"hash":"7e9edd86e5c7fa0e94b060f0e94fc2c30c12571b","line":"        buffer = new Buffer(0);","num":140},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":141},{"hash":"a44871e4557eb6099503453c26a3a50516cf1da4","line":"      case 1:","num":142},{"hash":"a720894d48591c65407e1221afa514e3aaf761ff","line":"        buffer = buffers[0];","num":143},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":144},{"hash":"71b822126e9fba870e0f65ef87dc26cc5d3fff4a","line":"      default:","num":145},{"hash":"2eba823adf82001fff961d0a9b1ee1e6cb0cebdb","line":"        buffer = new Buffer(nread);","num":146},{"hash":"7bc5562cedd27764aea3b5ea4f59f5216b668997","line":"        var n = 0;","num":147},{"hash":"1dd0eef18c51383dacb1c0584a1ddc248e3a00d4","line":"        buffers.forEach(function(b) {","num":148},{"hash":"5e82b1f1924eb2a1186685207152a50c61a355a5","line":"          var l = b.length;","num":149},{"hash":"e1f50560623ca00c885cb456dce61cc14d291176","line":"          b.copy(buffer, n, 0, l);","num":150},{"hash":"9a1131189bb41f49147128298244bed715e83ebc","line":"          n += l;","num":151},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"        });","num":152},{"hash":"db2eeaf2f910dbc5301c88f6da4832ad31cfa626","line":"        break;","num":153},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":154},{"hash":"8caf3a7376fa8e66cbc823e5be83990c206f2c7c","line":"    callback(null, buffer);","num":155},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":156},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":157},{"hash":"ff46794fa229e8dc0e843ef8dbef1741f3d477db","line":"  engine.write(buffer);","num":158},{"hash":"521f144127045f6f47cd386de32c4fcd8bf57e04","line":"  engine.end();","num":159},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":160},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":161},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":162},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":163},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":164},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":165},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":166},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":167},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":168},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":169},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":170},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":171},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":172},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":173},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":174},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":175},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":176},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":177},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":178},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":179},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":180},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":181},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":182},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":183},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":184},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":185},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":186},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":187},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":188},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":189},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":190},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":191},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":192},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":193},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":194},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":195},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":196},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":197},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":198},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":199},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":200},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":201},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":202},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":203},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":204},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":205},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":206},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":207},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":208},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":209},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":210},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":211},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":212},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":213},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":214},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":215},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":216},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":217},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":218},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":219},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":220},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":221},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":222},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":223},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":224},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":225},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":226},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":227},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":228},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":229},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":230},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":231},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":232},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":233},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":234},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":235},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":236},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":237},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":238},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":239},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":240},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":241},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":242},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":243},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":244},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":245},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":246},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":247},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":248},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":249},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":250},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":251},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":252},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":253},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":254},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":255},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":256},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":257},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":258},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":259},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":260},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":261},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":262},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":263},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":264},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":265},{"hash":"e8921af5b315ca27f7c910dbf5e2bffbd410ea2b","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY);","num":266},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":267},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":268},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":269},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":270},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":271},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":272},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":273},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":274},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":275},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":276},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":277},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":278},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":279},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":280},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":281},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":282},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":283},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":284},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":285},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":286},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":287},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":288},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":289},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":290},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":291},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":292},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":293},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":294},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":295},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":296},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":297},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":298},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":299},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":300},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":301},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":302},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":303},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":304},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":305},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":306},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":307},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":308},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":309},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":310},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":311},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":312},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":313},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":314},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":315},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":316},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":317},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":318},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":319},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":320},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":321},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":322},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":323},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":324},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":325},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":326},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":327},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":328},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":329},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":330},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":331},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":332},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":333},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":334},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":335},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":336},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":337},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":338},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":339},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":340},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":341},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":342},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":343},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":344},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":345},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":346},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":347},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":348},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":349},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":350},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":351},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":352},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":353},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":354},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":355},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":356},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":357},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":358},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":359},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":360},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":361},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":362},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":363},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":364},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":365},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":366},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":367},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":368},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":369},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":370},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":371},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":372},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":373},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":374},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":375},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":376},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":377},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":378},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":379},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":380},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":381},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":382},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":383},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":384},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":385},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":386},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":387},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":388},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":389},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":390},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":391},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":392},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":393},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":394},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":395},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":396},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":397},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":398},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":399},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":400},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":401},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":402},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":403},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":404},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":405},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":406},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":407},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":408},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":409},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":410},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":411},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":412},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":413},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":414},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":415},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":416},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":417},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":418},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":419},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":420},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":421}]},{"idx":11,"commit":"4c5751ba97763c7af866a5efe8505ffe1f830fdb","msg":"Close #1929 zlib Respond to 'resume' events properly","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":91},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":92},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":93},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":94},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":95},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":96},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":97},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":98},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":99},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":100},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":101},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":102},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":105},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":106},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":107},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":108},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":109},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":110},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":111},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":112},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":113},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":114},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":117},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":118},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":119},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":120},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":121},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":122},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":125},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":126},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":127},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":128},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":131},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":132},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":133},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":134},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":135},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":136},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":137},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":138},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":139},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":140},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":141},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":142},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":143},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":144},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":145},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":146},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":147},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":148},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":149},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":150},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":151},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":152},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":153},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":154},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":155},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":156},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":157},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":158},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":159},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":160},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":161},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":162},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":163},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":164},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":165},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":166},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":167},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":168},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":169},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":170},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":171},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":172},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":173},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":174},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":175},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":176},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":177},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":180},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":181},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":182},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":183},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":184},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":185},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":186},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":187},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":188},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":189},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":190},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":191},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":192},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":193},{"hash":"e8921af5b315ca27f7c910dbf5e2bffbd410ea2b","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY);","num":194},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":195},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":196},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":197},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":198},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":199},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":200},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":201},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":202},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":203},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":204},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":205},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":206},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":207},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":208},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":209},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":210},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":211},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":212},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":213},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":214},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":215},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":216},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":217},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":218},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":219},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":220},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":221},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":222},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":223},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":224},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":225},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":226},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":227},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":228},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":229},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":230},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":231},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":232},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":233},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":234},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":235},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":236},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":237},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":238},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":239},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":240},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":241},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":242},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":243},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":244},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":245},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":246},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":247},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":248},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":249},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":250},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":251},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":252},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":253},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":254},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":255},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":256},{"hash":"f3bfe0f033b1f9119eaa524cb6ee4016e4957f95","line":"    // nothing to do, waiting for more data at this point.","num":257},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":258},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":259},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":260},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":261},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":262},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":263},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":264},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":265},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":266},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":267},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":268},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":269},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":270},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":271},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":272},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":273},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":274},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":275},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":276},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":277},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":278},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":279},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":280},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":281},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":282},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":283},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":284},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":285},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":286},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":287},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":288},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":289},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":290},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":291},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":292},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":293},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":294},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":295},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":296},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":297},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":298},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":299},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":300},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":301},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":302},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":303},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":304},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":305},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":306},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":307},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":308},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":309},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":310},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":311},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":312},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":313},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":314},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":315},{"hash":"06d38d1dad2cfe643addef546ea5f403e09f7c51","line":"                                       availInBefore,","num":316},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":317},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":318},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":319},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":320},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":321},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":322},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":323},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":324},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":325},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":326},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":327},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":328},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":329},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":330},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":331},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":332},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":333},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":334},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":335},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":336},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":337},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":338},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":339},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":340},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":341},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":342},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":343},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":344},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":345},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":346},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":347},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":348},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":349}]},{"idx":12,"commit":"59a5262041dce0760b1f960a900eca8b8ca1138f","msg":"Fix #1882 zlib Update 'availOutBefore' value, and test","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":91},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":92},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":93},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":94},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":95},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":96},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":97},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":98},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":99},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":100},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":101},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":102},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":105},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":106},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":107},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":108},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":109},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":110},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":111},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":112},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":113},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":114},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":117},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":118},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":119},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":120},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":121},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":122},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":125},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":126},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":127},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":128},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":131},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":132},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":133},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":134},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":135},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":136},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":137},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":138},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":139},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":140},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":141},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":142},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":143},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":144},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":145},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":146},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":147},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":148},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":149},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":150},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":151},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":152},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":153},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":154},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":155},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":156},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":157},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":158},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":159},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":160},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":161},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":162},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":163},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":164},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":165},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":166},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":167},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":168},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":169},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":170},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":171},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":172},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":173},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":174},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":175},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":176},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":177},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":180},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":181},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":182},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":183},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":184},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":185},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":186},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":187},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":188},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":189},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":190},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":191},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":192},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":193},{"hash":"e8921af5b315ca27f7c910dbf5e2bffbd410ea2b","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY);","num":194},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":195},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":196},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":197},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":198},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":199},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":200},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":201},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":202},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":203},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":204},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":205},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":206},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":207},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":208},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":209},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":210},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":211},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":212},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":213},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":214},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":215},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":216},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":217},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":218},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":219},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":220},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":221},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":222},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":223},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":224},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":225},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":226},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":227},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":228},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":229},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":230},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":231},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":232},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":233},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":234},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":235},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":236},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":237},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":238},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":239},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":240},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":241},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":242},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":243},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":244},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":245},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":246},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":247},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":248},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":249},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":250},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":251},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":252},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":253},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":254},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":255},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":256},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":257},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":258},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":259},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":260},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":261},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":262},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":263},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":264},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":265},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":266},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":267},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":268},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":269},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":272},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":273},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":274},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":275},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":276},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":277},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":278},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":279},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":280},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":281},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":282},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":283},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":284},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":285},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":286},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":287},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":288},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":289},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":290},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":291},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":292},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":293},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":294},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":295},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":296},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":297},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":298},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":299},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":300},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":301},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":302},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":303},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":304},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":305},{"hash":"0375073da777d512a8164d28d382eaadbd8579ae","line":"      // Also, update the availInBefore to the availInAfter value,","num":306},{"hash":"16f1bb4bde4c09be3e74165d5016ce70a3ac3d3f","line":"      // so that if we have to hit it a third (fourth, etc.) time,","num":307},{"hash":"e348766809d1c0e3b96ca5ad8d1640adb960eb3a","line":"      // it'll have the correct byte counts.","num":308},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":309},{"hash":"c0371b2a656956afa4df61091435e80e1c916de2","line":"      availInBefore = availInAfter;","num":310},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":311},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":312},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":313},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":314},{"hash":"fe6f041f7264a59eb61d14694ebd76a306c76c56","line":"                                       availInAfter,","num":315},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":316},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":317},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":318},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":319},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":320},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":321},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":322},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":323},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":324},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":325},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":326},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":327},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":328},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":329},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":330},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":331},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":332},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":333},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":334},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":335},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":336},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":337},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":338},{"hash":"509f7dba00b8fc438b7ede729dac90436d4ab7ff","line":"  this.emit('resume');","num":339},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":340},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":341},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":342},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":343},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":344},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":345},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":346},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":347},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":348}]},{"idx":13,"commit":"c828ded0c2b6905c0f3ce0301e3c76923e9f5dec","msg":"zlib: Typo. s/opt/opts/","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":91},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":92},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":93},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":94},{"hash":"7e4a192066625de3615f22fc20dc453d7e260c48","line":"  if (!(this instanceof Deflate)) return new Deflate(opts);","num":95},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":96},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":97},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":98},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":99},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":100},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":101},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":102},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":105},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":106},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":107},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":108},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":109},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":110},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":111},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":112},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":113},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":114},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":117},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":118},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":119},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":120},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":121},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":122},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":125},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":126},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":127},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":128},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":131},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":132},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":133},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":134},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":135},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":136},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":137},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":138},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":139},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":140},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":141},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":142},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":143},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":144},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":145},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":146},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":147},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":148},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":149},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":150},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":151},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":152},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":153},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":154},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":155},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":156},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":157},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":158},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":159},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":160},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":161},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":162},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":163},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":164},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":165},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":166},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":167},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":168},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":169},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":170},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":171},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":172},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":173},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":174},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":175},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":176},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":177},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":180},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":181},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":182},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":183},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":184},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":185},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":186},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":187},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":188},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":189},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":190},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":191},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":192},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":193},{"hash":"e8921af5b315ca27f7c910dbf5e2bffbd410ea2b","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY);","num":194},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":195},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":196},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":197},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":198},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":199},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":200},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":201},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":202},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":203},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":204},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":205},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":206},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":207},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":208},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":209},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":210},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":211},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":212},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":213},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":214},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":215},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":216},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":217},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":218},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":219},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":220},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":221},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":222},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":223},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":224},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":225},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":226},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":227},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":228},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":229},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":230},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":231},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":232},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":233},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":234},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":235},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":236},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":237},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":238},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":239},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":240},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":241},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":242},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":243},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":244},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":245},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":246},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":247},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":248},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":249},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":250},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":251},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":252},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":253},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":254},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":255},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":256},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":257},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":258},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":259},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":260},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":261},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":262},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":263},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":264},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":265},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":266},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":267},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":268},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":269},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":272},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":273},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":274},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":275},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":276},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":277},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":278},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":279},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":280},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":281},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":282},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":283},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":284},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":285},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":286},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":287},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":288},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":289},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":290},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":291},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":292},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":293},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":294},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":295},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":296},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":297},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":298},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":299},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":300},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":301},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":302},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":303},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":304},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":305},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":306},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":307},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":308},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":309},{"hash":"fe6f041f7264a59eb61d14694ebd76a306c76c56","line":"                                       availInAfter,","num":310},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":311},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":312},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":313},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":314},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":315},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":316},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":317},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":318},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":319},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":320},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":321},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":322},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":323},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":324},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":325},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":326},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":327},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":328},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":329},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":330},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":331},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":332},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":333},{"hash":"509f7dba00b8fc438b7ede729dac90436d4ab7ff","line":"  this.emit('resume');","num":334},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":335},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":336},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":337},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":338},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":339},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":340},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":341},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":342},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":343}]},{"idx":14,"commit":"f90264d2462e0e24b9a4479b23443c518d24ef0d","msg":"zlib: lint","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"669cda35a1874d988ab4d20980c52e06f0294636","line":"exports.createDeflate = function(o) {","num":62},{"hash":"c4f10e08447f9f76fede1a78b81f091ab408f6f6","line":"  return new Deflate(o);","num":63},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":64},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":65},{"hash":"28569e43e45bcf04e577ba4e69a66c332bbbf9f9","line":"exports.createInflate = function(o) {","num":66},{"hash":"6791726e7416aebe85f9f70b2398e997608852ae","line":"  return new Inflate(o);","num":67},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"e6f4697fb32b5246159dc2b660f0a99c5e540357","line":"exports.createDeflateRaw = function(o) {","num":70},{"hash":"824908fa422992b02a12ccec3eb49576210ff606","line":"  return new DeflateRaw(o);","num":71},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":72},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":73},{"hash":"1bfd03e625e4fe686fa67800f8ce61ded8006484","line":"exports.createInflateRaw = function(o) {","num":74},{"hash":"1e774a054fbfe459ca8c8c2d9b2e86c24af30ea5","line":"  return new InflateRaw(o);","num":75},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"56ee5a35358320653b8c3b8a9f4ec0c525efce1e","line":"exports.createGzip = function(o) {","num":78},{"hash":"03c8871fca123f08d72a0b35ec27d3ec6ff6daa5","line":"  return new Gzip(o);","num":79},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":80},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":81},{"hash":"eb60e184f63592abb782c8debaaf5c6fff58eb4f","line":"exports.createGunzip = function(o) {","num":82},{"hash":"34ca8fa99cc6cc8b55e62ca94fc8f7c45ef111e1","line":"  return new Gunzip(o);","num":83},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"fa066311fc78f2ef16ef1418251b69161cabff4f","line":"exports.createUnzip = function(o) {","num":86},{"hash":"5b0d64b130508a323f2a58aec2e54f3af1514280","line":"  return new Unzip(o);","num":87},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":88},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":91},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":92},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":93},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":94},{"hash":"3bae63553bb42a3aa1d5669037940adbd81f741a","line":"  if (!(this instanceof Deflate)) return new Deflate(opt);","num":95},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":96},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":97},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":98},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":99},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":100},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":101},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":102},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":105},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":106},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":107},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":108},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":109},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":110},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":111},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":112},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":113},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":114},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":117},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":118},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":119},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":120},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":121},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":122},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":123},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":124},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":125},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":126},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":127},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":128},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":131},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":132},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":133},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":134},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":135},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":136},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":137},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":138},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":139},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":140},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":141},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":142},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":143},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":144},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":145},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":146},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":147},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":148},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":149},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":150},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":151},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":152},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":153},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":154},{"hash":"0aac1278a8d54563968e5eeaa52c3468a4b290c1","line":"      throw new Error('Invalid chunk size: ' + opts.chunkSize);","num":155},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":156},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":157},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":158},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":159},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":160},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":161},{"hash":"f9a48b51f21ab6897baf1db27a005c298c32b67f","line":"      throw new Error('Invalid windowBits: ' + opts.windowBits);","num":162},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":163},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":164},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":165},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":166},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":167},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":168},{"hash":"51aff31d64514235ee3e4e329dbdcb6cee671a3e","line":"      throw new Error('Invalid compression level: ' + opts.level);","num":169},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":170},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":171},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":172},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":173},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":174},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":175},{"hash":"ec84550aa8898246b37559eee3139d94f89ce3c2","line":"      throw new Error('Invalid memLevel: ' + opts.memLevel);","num":176},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":177},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":180},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":181},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":182},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":183},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":184},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":185},{"hash":"f16c0b838f36887eda973274f8c2070c40605da7","line":"      throw new Error('Invalid strategy: ' + opts.strategy);","num":186},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":187},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":188},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":189},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":190},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":191},{"hash":"5c8f6e32e2b4c04b4e22b05491d214e326220078","line":"                     opts.level || exports.Z_DEFAULT_COMPRESSION,","num":192},{"hash":"5271021bf8ddd296afb324f96d3ecbbacae2dd07","line":"                     opts.memLevel || exports.Z_DEFAULT_MEMLEVEL,","num":193},{"hash":"e8921af5b315ca27f7c910dbf5e2bffbd410ea2b","line":"                     opts.strategy || exports.Z_DEFAULT_STRATEGY);","num":194},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":195},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":196},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":197},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":198},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":199},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":200},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":201},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":202},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":203},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":204},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":205},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":206},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":207},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":208},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":209},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":210},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":211},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":212},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":213},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":214},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":215},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":216},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":217},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":218},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":219},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":220},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":221},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":222},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":223},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":224},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":225},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":226},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":227},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":228},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":229},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":230},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":231},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":232},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":233},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":234},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":235},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":236},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":237},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":238},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":239},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":240},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":241},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":242},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":243},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":244},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":245},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":246},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":247},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":248},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":249},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":250},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":251},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":252},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":253},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":254},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":255},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":256},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":257},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":258},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":259},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":260},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":261},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":262},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":263},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":264},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":265},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":266},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":267},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":268},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":269},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":272},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":273},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":274},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":275},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":276},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":277},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":278},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":279},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":280},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":281},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":282},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":283},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":284},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":285},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":286},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":287},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":288},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":289},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":290},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":291},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":292},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":293},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":294},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":295},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":296},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":297},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":298},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":299},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":300},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":301},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":302},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":303},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":304},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":305},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":306},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":307},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":308},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":309},{"hash":"fe6f041f7264a59eb61d14694ebd76a306c76c56","line":"                                       availInAfter,","num":310},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":311},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":312},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":313},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":314},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":315},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":316},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":317},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":318},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":319},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":320},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":321},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":322},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":323},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":324},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":325},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":326},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":327},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":328},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":329},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":330},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":331},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":332},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":333},{"hash":"509f7dba00b8fc438b7ede729dac90436d4ab7ff","line":"  this.emit('resume');","num":334},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":335},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":336},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":337},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":338},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":339},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":340},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":341},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":342},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":343}]},{"idx":15,"commit":"d104bfd5a6d825c58a09e325b7475183d2738849","msg":"zlib: Fix test so that it's not trivially passing, then pass it.\n\nRegression from the refactor to move more things into JS.","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"fa06a8e49900c7bb858bcaab2aeacf3765a72a25","line":"var assert = require('assert').ok;","num":25},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":26},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":27},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":28},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":29},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":30},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":31},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":32},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":33},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":34},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":35},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":36},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":37},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":38},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":39},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":40},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":41},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":42},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":43},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":44},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":45},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":46},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":47},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":48},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":49},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":50},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":53},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":54},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":55},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":56},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":57},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":58},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":59},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":60},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":61},{"hash":"8a73a4ebb024d741a5bbe410f0d08ef2e9bf1cac","line":"exports.createDeflate    = function (o) { return new Deflate(o);    };","num":62},{"hash":"a63f60587a6636e7ccd5ade473699725d8c70309","line":"exports.createInflate    = function (o) { return new Inflate(o);    };","num":63},{"hash":"2e408f0512b4619bd619cd61aa51af7473e63d0c","line":"exports.createDeflateRaw = function (o) { return new DeflateRaw(o); };","num":64},{"hash":"8ca9de41bb366b6421ab9db0bc8c00528e2701d5","line":"exports.createInflateRaw = function (o) { return new InflateRaw(o); };","num":65},{"hash":"516fa962816807a09343c67c980148c31e003ef0","line":"exports.createGzip       = function (o) { return new Gzip(o);       };","num":66},{"hash":"a4435deca1374cc266d5b94a11de9f3dde993881","line":"exports.createGunzip     = function (o) { return new Gunzip(o);     };","num":67},{"hash":"db0c48430b8718614af92250b422dbf20b91df51","line":"exports.createUnzip      = function (o) { return new Unzip(o);      };","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":70},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":71},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":72},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":73},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":74},{"hash":"3bae63553bb42a3aa1d5669037940adbd81f741a","line":"  if (!(this instanceof Deflate)) return new Deflate(opt);","num":75},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":76},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":77},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":78},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":79},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":80},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":81},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":82},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":83},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":84},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":85},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":86},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":87},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":88},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":89},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":90},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":91},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":92},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":93},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":94},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":95},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":96},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":97},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":98},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":99},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":100},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":101},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":102},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":103},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":104},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":105},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":106},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":107},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":108},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":109},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":110},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":111},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":112},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":113},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":114},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":117},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":118},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":119},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":120},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":121},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":122},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":123},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":124},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":125},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":126},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":127},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":128},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":129},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":130},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":131},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":132},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":133},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":134},{"hash":"2c7e8836cb39f0bf66ab78f86463397e825074ea","line":"      throw new Error(\"Invalid chunk size: \"+opts.chunkSize);","num":135},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":136},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":137},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":138},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":139},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":140},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":141},{"hash":"0790f91277a0c2c764796db9de05f5291407dbc7","line":"      throw new Error(\"Invalid windowBits: \"+opts.windowBits);","num":142},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":143},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":144},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":145},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":146},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":147},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":148},{"hash":"4e0cc3abc69086dd2f61273813e500f26b395b69","line":"      throw new Error(\"Invalid compression level: \"+opts.level);","num":149},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":150},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":151},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":152},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":153},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":154},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":155},{"hash":"30ec9b31131ff9cbe3837f64d869d956fe6e3bd4","line":"      throw new Error(\"Invalid memLevel: \"+opts.memLevel);","num":156},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":157},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":158},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":159},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":160},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":161},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":162},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":163},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":164},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":165},{"hash":"6ae30eb1d5aaf9b63b3ea53e14ed9818b6abd086","line":"      throw new Error(\"Invalid strategy: \"+opts.strategy);","num":166},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":167},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":168},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":169},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":170},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":171},{"hash":"8e723e5df5a67e26718e29fcfa1d1aaa03869322","line":"                     opts.level      || exports.Z_DEFAULT_COMPRESSION,","num":172},{"hash":"033ee399ac676ec67babf30bd9cbb32a0b800069","line":"                     opts.memLevel   || exports.Z_DEFAULT_MEMLEVEL,","num":173},{"hash":"e6c1ee877a244b008a8b17f007cd413d74d25734","line":"                     opts.strategy   || exports.Z_DEFAULT_STRATEGY);","num":174},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":175},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":176},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":177},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":178},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":179},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":180},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":181},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":182},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":183},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":184},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":185},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":186},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":187},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":188},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":189},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":190},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":191},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":192},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":193},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":194},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":195},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":196},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":197},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":198},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":199},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":200},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":201},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":202},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":203},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":204},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":205},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":206},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":207},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":208},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":209},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":210},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":211},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":212},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":213},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":214},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":215},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":216},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":217},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":218},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":219},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":220},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":221},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":222},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":223},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":224},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":225},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":226},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":227},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":228},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":229},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":230},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":231},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":232},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":233},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":234},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":235},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":236},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":237},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":238},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":239},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":240},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":241},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":242},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":243},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":244},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":245},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":246},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":247},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":248},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":249},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":250},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":251},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":252},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":253},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":254},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":255},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":256},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":257},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":258},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":259},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":260},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":261},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":262},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":263},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":264},{"hash":"36397195dfd156a2980ac694f2f43771b7adbe6f","line":"  function callback(availInAfter, availOutAfter, buffer) {","num":265},{"hash":"83e59c869a405a2b379b18139b4fc265c3c2466c","line":"    var have = availOutBefore - availOutAfter;","num":266},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":267},{"hash":"ddca283911c9c069433d63154cc3fc2b421acd87","line":"    assert(have >= 0, 'have should not go down');","num":268},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":269},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":270},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":271},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":272},{"hash":"994edf1dd541505e885412069b2daa81d5fb0f96","line":"      self.emit('data', out);","num":273},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":274},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":275},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":276},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":277},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":278},{"hash":"1e27b2f20517376271a91ddaeb4a1ed3d777c8a1","line":"      availOutBefore = self._chunkSize;","num":279},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":280},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":281},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":282},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":283},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":284},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":285},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":286},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":287},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":288},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":289},{"hash":"fe6f041f7264a59eb61d14694ebd76a306c76c56","line":"                                       availInAfter,","num":290},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":291},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":292},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":293},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":294},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":295},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":296},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":297},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":298},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":299},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":300},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":301},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":302},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":303},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":304},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":305},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":306},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":307},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":308},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":309},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":310},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":311},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":312},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":313},{"hash":"509f7dba00b8fc438b7ede729dac90436d4ab7ff","line":"  this.emit('resume');","num":314},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":315},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":316},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":317},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":318},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":319},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":320},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":321},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":322},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":323}]},{"idx":16,"commit":"5b8e1dabbc117b38c56f874f4e6d5b7e537cd3c1","msg":"Initial pass at zlib bindings","data":[{"hash":"9bab1e50d07eedf58d3b31b9cb69ccea551b6d6a","line":"// Copyright Joyent, Inc. and other Node contributors.","num":1},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":2},{"hash":"3d2da19ad69d3f365512837bc7068c1db16b97e4","line":"// Permission is hereby granted, free of charge, to any person obtaining a","num":3},{"hash":"626a0d43008fa038ab377e7999785d5f9e95c40c","line":"// copy of this software and associated documentation files (the","num":4},{"hash":"378c4db4ed246750f925f92643f4ceadd64424f0","line":"// \"Software\"), to deal in the Software without restriction, including","num":5},{"hash":"e1d84bc6e855976d1c8270020d2a7cc04f7dc781","line":"// without limitation the rights to use, copy, modify, merge, publish,","num":6},{"hash":"7411a697d7b157b5d88c37ca8ad6ce9c9afcc7db","line":"// distribute, sublicense, and/or sell copies of the Software, and to permit","num":7},{"hash":"a95fda5b064881f554f44e38f28f996d4d604972","line":"// persons to whom the Software is furnished to do so, subject to the","num":8},{"hash":"b10cb90ce649a6a9fe0cf7b3cca24ca42e14ce33","line":"// following conditions:","num":9},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":10},{"hash":"cce30e180547705d898d2addcf08fc0c9ebbd290","line":"// The above copyright notice and this permission notice shall be included","num":11},{"hash":"9e23b770f254795f0dd58ac87325d36c852be585","line":"// in all copies or substantial portions of the Software.","num":12},{"hash":"ebbffb7d7ea5362a22bfa1bab0bfdeb1617cd610","line":"//","num":13},{"hash":"103d284c5251f998550440e911bb8fd84a2a39bc","line":"// THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS","num":14},{"hash":"60b566bd8641674c57a39464bbe1c8b7816cd7d8","line":"// OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF","num":15},{"hash":"18ae0f8178df8f6a0d853b1634a849156c51ed6e","line":"// MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN","num":16},{"hash":"f3084b0d185de3d47889b0747add5062c1d3ca7c","line":"// NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,","num":17},{"hash":"3aa7e49cbce79f1862c15717d64e0feb67559452","line":"// DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR","num":18},{"hash":"6a58d9f638c376af2af393347e27e328ceb8c7d0","line":"// OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE","num":19},{"hash":"52e7c7b55808cd5161a52453b1e6fb236427507e","line":"// USE OR OTHER DEALINGS IN THE SOFTWARE.","num":20},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":21},{"hash":"a7918f4c8dffa3ca11b12944c52632c79095dd45","line":"var binding = process.binding('zlib');","num":22},{"hash":"ee89906819ec70c848bbcd7759799228a3eeb486","line":"var util = require('util');","num":23},{"hash":"a8e4eac950288404f1900ca4000112518a081690","line":"var stream = require('stream');","num":24},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":25},{"hash":"b82d0e262126d90cf903c07f5efa57320f4e2eca","line":"// zlib doesn't provide these, so kludge them in following the same","num":26},{"hash":"e0b6808de1991f92405aab562e742369641a2987","line":"// const naming scheme zlib uses.","num":27},{"hash":"2c07a3c5e9294e96ddabf2ef84a6cacb8bbfa363","line":"binding.Z_MIN_WINDOWBITS = 8;","num":28},{"hash":"e08e470e947da5edc92db92789e231026e3071aa","line":"binding.Z_MAX_WINDOWBITS = 15;","num":29},{"hash":"e58405780f1717f71fb0732bb196b82115c16830","line":"binding.Z_DEFAULT_WINDOWBITS = 15;","num":30},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":31},{"hash":"0ac5dea02f1564be2f2efa1cc591b139128da36f","line":"// fewer than 64 bytes per chunk is stupid.","num":32},{"hash":"c4e8847acf401ff69732838ce0ffbd0aaf5bad04","line":"// technically it could work with as few as 8, but even 64 bytes","num":33},{"hash":"e025474e72375d290d56c8856f37cdc455f53075","line":"// is absurdly low.  Usually a MB or more is best.","num":34},{"hash":"281d34e35b1e370242b48a95b06fd0252f3202c5","line":"binding.Z_MIN_CHUNK = 64;","num":35},{"hash":"bf101d280586510077c41fd633de71a88c684070","line":"binding.Z_MAX_CHUNK = Infinity;","num":36},{"hash":"61ddc332b762867ffe92c18516258151352e4c2c","line":"binding.Z_DEFAULT_CHUNK = (16 * 1024);","num":37},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":38},{"hash":"c99c8435485a13b050fe68dda118cf79b5cf4952","line":"binding.Z_MIN_MEMLEVEL = 1;","num":39},{"hash":"4bb1e9cb031dd540a12cf5095984bc055d8ed85a","line":"binding.Z_MAX_MEMLEVEL = 9;","num":40},{"hash":"f57240f8934918611415ecf3de21c448225c2726","line":"binding.Z_DEFAULT_MEMLEVEL = 8;","num":41},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":42},{"hash":"b2b7679e8b907103a0c0658ea948fe359b092d83","line":"binding.Z_MIN_LEVEL = -1;","num":43},{"hash":"58cda7a74db87bf04ad6f5fc7bc8c8d00b001212","line":"binding.Z_MAX_LEVEL = 9;","num":44},{"hash":"55e809f54f5f64c3bd3775d34acb943beb75ba8b","line":"binding.Z_DEFAULT_LEVEL = binding.Z_DEFAULT_COMPRESSION;","num":45},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":46},{"hash":"e8b64b1ffcfa662d93623591bda52b9b69e703a2","line":"// expose all the zlib constants","num":47},{"hash":"52eda143a0d024bcf7002c6d5467be75f526d9f7","line":"Object.keys(binding).forEach(function(k) {","num":48},{"hash":"3814f74063e49d7589e97d346d21961c0067f94f","line":"  if (k.match(/^Z/)) exports[k] = binding[k];","num":49},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"});","num":50},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":51},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":52},{"hash":"b0220861e0bdbe958fcbc0353f205b949ff937bd","line":"exports.Deflate = Deflate;","num":53},{"hash":"6402f209074df4a01cffbe68bc8aa61139e619fd","line":"exports.Inflate = Inflate;","num":54},{"hash":"7864e60ec54bb111fa06b64d2d05bac1669b4741","line":"exports.Gzip = Gzip;","num":55},{"hash":"5e9ca22f41dc23b3b2a65fa8bc1ea5542bc44146","line":"exports.Gunzip = Gunzip;","num":56},{"hash":"33e894c60dc230c1ba77ebabb7c949ee98aaf971","line":"exports.DeflateRaw = DeflateRaw;","num":57},{"hash":"0b899f9439fcf89a55e2725a8be0cdcc3846c260","line":"exports.InflateRaw = InflateRaw;","num":58},{"hash":"378052abd24727be1fc9e0caff5d10ed4fdc3537","line":"exports.Unzip = Unzip;","num":59},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":60},{"hash":"8a73a4ebb024d741a5bbe410f0d08ef2e9bf1cac","line":"exports.createDeflate    = function (o) { return new Deflate(o);    };","num":61},{"hash":"a63f60587a6636e7ccd5ade473699725d8c70309","line":"exports.createInflate    = function (o) { return new Inflate(o);    };","num":62},{"hash":"2e408f0512b4619bd619cd61aa51af7473e63d0c","line":"exports.createDeflateRaw = function (o) { return new DeflateRaw(o); };","num":63},{"hash":"8ca9de41bb366b6421ab9db0bc8c00528e2701d5","line":"exports.createInflateRaw = function (o) { return new InflateRaw(o); };","num":64},{"hash":"516fa962816807a09343c67c980148c31e003ef0","line":"exports.createGzip       = function (o) { return new Gzip(o);       };","num":65},{"hash":"a4435deca1374cc266d5b94a11de9f3dde993881","line":"exports.createGunzip     = function (o) { return new Gunzip(o);     };","num":66},{"hash":"db0c48430b8718614af92250b422dbf20b91df51","line":"exports.createUnzip      = function (o) { return new Unzip(o);      };","num":67},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":68},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":69},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":70},{"hash":"f92903477a4d13d0a24744e15559918c41d582e4","line":"// generic zlib","num":71},{"hash":"f3aec0afd1996274e16903dec4d9ff64fae8ee80","line":"// minimal 2-byte header","num":72},{"hash":"149c00e5526503ec9e03a5a342f6fca19f5e2c7d","line":"function Deflate(opts) {","num":73},{"hash":"3bae63553bb42a3aa1d5669037940adbd81f741a","line":"  if (!(this instanceof Deflate)) return new Deflate(opt);","num":74},{"hash":"55330aa60128c529256a3ad578047ce74e0d44dd","line":"  Zlib.call(this, opts, binding.Deflate);","num":75},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":76},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":77},{"hash":"7fd9f5081f9f25f18d86f987296e5c9fdfd3327b","line":"function Inflate(opts) {","num":78},{"hash":"ead6f4b9fbfc3e794963cb88727b3738a3507472","line":"  if (!(this instanceof Inflate)) return new Inflate(opts);","num":79},{"hash":"8820fed84268cf6577958ad0ecc2399e8c39ea9d","line":"  Zlib.call(this, opts, binding.Inflate);","num":80},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":81},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":82},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":83},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":84},{"hash":"bf7afb03becbafc6ed4d512b054a7c32c7760ff1","line":"// gzip - bigger header, same deflate compression","num":85},{"hash":"18f252c27c5f9eb34455fbc5b6f03165cc3c076b","line":"function Gzip(opts) {","num":86},{"hash":"637b8d4b955e7ce5dc6ebb2a653dac4f8eba9135","line":"  if (!(this instanceof Gzip)) return new Gzip(opts);","num":87},{"hash":"5821b9634c0829a9f887d4fa48cb2ae9bd39f1f6","line":"  Zlib.call(this, opts, binding.Gzip);","num":88},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":89},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":90},{"hash":"1f3f2ddebf82e5e0c1268569aba71df1354fdaac","line":"function Gunzip(opts) {","num":91},{"hash":"e5f0a5ce2874596594cd84e6a578e3cfdb2e64ea","line":"  if (!(this instanceof Gunzip)) return new Gunzip(opts);","num":92},{"hash":"7d307618b47ce4a2bce4f956c4e53dc2a1e58c1c","line":"  Zlib.call(this, opts, binding.Gunzip);","num":93},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":94},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":95},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":96},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":97},{"hash":"9e9eae8d0120c7d89e3922e8687a06fe18c40bf1","line":"// raw - no header","num":98},{"hash":"ad209336d7bd3a0fba24e6c9879546af52b6d6f2","line":"function DeflateRaw(opts) {","num":99},{"hash":"6d32788225bf647d197cc6b31adcfa6afb9346f7","line":"  if (!(this instanceof DeflateRaw)) return new DeflateRaw(opts);","num":100},{"hash":"17d43a5e9c2381a195c149a2e5e164b56eaeadc3","line":"  Zlib.call(this, opts, binding.DeflateRaw);","num":101},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":102},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":103},{"hash":"b848c9a239f7348bfbee7e0efea6f5e6c9ab60ae","line":"function InflateRaw(opts) {","num":104},{"hash":"cd0685c31d62b42c175446c8b1e4642509adaa51","line":"  if (!(this instanceof InflateRaw)) return new InflateRaw(opts);","num":105},{"hash":"1021690807bca7984c58344879946df70579f317","line":"  Zlib.call(this, opts, binding.InflateRaw);","num":106},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":107},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":108},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":109},{"hash":"4cd2c21bd5d276508cc5e6d61acf35effb83c939","line":"// auto-detect header.","num":110},{"hash":"88fcbcc0c151142b6795904bdbdf1fd0104d0a8b","line":"function Unzip(opts) {","num":111},{"hash":"8ae39d16c79f2677bb4e1109b7ad37eb446ad359","line":"  if (!(this instanceof Unzip)) return new Unzip(opts);","num":112},{"hash":"2ed5fca9a91221ea82ac87044ab081cae8e29d8d","line":"  Zlib.call(this, opts, binding.Unzip);","num":113},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":114},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":115},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":116},{"hash":"bf903b048dfb67937594833f0815b5c51f30a57f","line":"// the Zlib class they all inherit from","num":117},{"hash":"581da560084d600c59ee74f4cf8c4314d4567ace","line":"// This thing manages the queue of requests, and returns","num":118},{"hash":"6e8b3bb22df26c6bb0ad228466e83bfb65086799","line":"// true or false if there is anything in the queue when","num":119},{"hash":"53321a4a0249f157219b700ee769efe6f50bdeab","line":"// you call the .write() method.","num":120},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":121},{"hash":"1395955907efe1a615ef950642c597428b3fcf2b","line":"function Zlib(opts, Binding) {","num":122},{"hash":"895c7f47d22793a22bd2a89ca8faef146b887d76","line":"  this._opts = opts = opts || {};","num":123},{"hash":"18e47223f78aea4ca34a6ad68040f76b8d4ca9fb","line":"  this._queue = [];","num":124},{"hash":"f660ca597c3a25d016286e3f85a5a4dc563b56ef","line":"  this._processing = false;","num":125},{"hash":"52965875dbe52f3500cf70842a87955d05d3daa4","line":"  this._ended = false;","num":126},{"hash":"2256d92d9d60ffdd88e3ab5b9b075398354339c9","line":"  this.readable = true;","num":127},{"hash":"22eed5813588db46a4b333e3a1027e823acf924c","line":"  this.writable = true;","num":128},{"hash":"75d44b2fd32dc990662f0cd83e9762a426d2a643","line":"  this._flush = binding.Z_NO_FLUSH;","num":129},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":130},{"hash":"3ec6d2956bb9e9de9ea4a48238c2d6f24d6c3f68","line":"  if (opts.chunkSize) {","num":131},{"hash":"ccbd07403402e0af63be08b3321521e9910c731f","line":"    if (opts.chunkSize < exports.Z_MIN_CHUNK ||","num":132},{"hash":"478e329b4f9fc41fb7a0afb82c650c61a7e0f43c","line":"        opts.chunkSize > exports.Z_MAX_CHUNK) {","num":133},{"hash":"2c7e8836cb39f0bf66ab78f86463397e825074ea","line":"      throw new Error(\"Invalid chunk size: \"+opts.chunkSize);","num":134},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":135},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":136},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":137},{"hash":"0872e47fbc60ff55f018aac54a551ef0b5de275a","line":"  if (opts.windowBits) {","num":138},{"hash":"54ef5fa40b25d0771666300e9806fe9dcc9ad185","line":"    if (opts.windowBits < exports.Z_MIN_WINDOWBITS ||","num":139},{"hash":"98c55ebd006e505bc5ed668b497f77adae2db8b5","line":"        opts.windowBits > exports.Z_MAX_WINDOWBITS) {","num":140},{"hash":"0790f91277a0c2c764796db9de05f5291407dbc7","line":"      throw new Error(\"Invalid windowBits: \"+opts.windowBits);","num":141},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":142},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":143},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":144},{"hash":"87b94c46b785659e693ff7ac9650922e339baefd","line":"  if (opts.level) {","num":145},{"hash":"08e1f72bdda250ae271e6e655bafcd810fee3ec2","line":"    if (opts.level < exports.Z_MIN_LEVEL ||","num":146},{"hash":"2c4a70f88de5b061ab826c0fa8d9a3ba8566370c","line":"        opts.level > exports.Z_MAX_LEVEL) {","num":147},{"hash":"4e0cc3abc69086dd2f61273813e500f26b395b69","line":"      throw new Error(\"Invalid compression level: \"+opts.level);","num":148},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":149},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":150},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":151},{"hash":"ce5907a2e6ec480e53aaf843bad1a6d7cbc63cc5","line":"  if (opts.memLevel) {","num":152},{"hash":"9f86311c37710470711a92408013dabc1ba2a05d","line":"    if (opts.memLevel < exports.Z_MIN_MEMLEVEL ||","num":153},{"hash":"d410d4fc93f6b84ad638a1368053a899313fdde8","line":"        opts.memLevel > exports.Z_MAX_MEMLEVEL) {","num":154},{"hash":"30ec9b31131ff9cbe3837f64d869d956fe6e3bd4","line":"      throw new Error(\"Invalid memLevel: \"+opts.memLevel);","num":155},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":156},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":157},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":158},{"hash":"ada32a1cc67f98cddce5bfa815a49076e02586d8","line":"  if (opts.strategy) {","num":159},{"hash":"3bdc2b515af4106bb5b7e1f5982c814ed45ab45f","line":"    if (opts.strategy != exports.Z_FILTERED &&","num":160},{"hash":"00c7dc06928fbed018569e2e49b6598f5e825e05","line":"        opts.strategy != exports.Z_HUFFMAN_ONLY &&","num":161},{"hash":"9b585c112030c2a2539fc93dca122babbc25bf00","line":"        opts.strategy != exports.Z_RLE &&","num":162},{"hash":"e3c1061e7a1fdf0036fee70fdf46cdd5fff253f8","line":"        opts.strategy != exports.Z_FIXED &&","num":163},{"hash":"d78d573edd744c271219791c4a4243eab44c17ca","line":"        opts.strategy != exports.Z_DEFAULT_STRATEGY) {","num":164},{"hash":"6ae30eb1d5aaf9b63b3ea53e14ed9818b6abd086","line":"      throw new Error(\"Invalid strategy: \"+opts.strategy);","num":165},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":166},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":167},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":168},{"hash":"89952b8877df47780d08a25da3a570961a45fa89","line":"  this._binding = new Binding();","num":169},{"hash":"1cf884357322be5e9530f13d00bf001dd083bb59","line":"  this._binding.init(opts.windowBits || exports.Z_DEFAULT_WINDOWBITS,","num":170},{"hash":"8e723e5df5a67e26718e29fcfa1d1aaa03869322","line":"                     opts.level      || exports.Z_DEFAULT_COMPRESSION,","num":171},{"hash":"033ee399ac676ec67babf30bd9cbb32a0b800069","line":"                     opts.memLevel   || exports.Z_DEFAULT_MEMLEVEL,","num":172},{"hash":"e6c1ee877a244b008a8b17f007cd413d74d25734","line":"                     opts.strategy   || exports.Z_DEFAULT_STRATEGY);","num":173},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":174},{"hash":"a0b502334c97a357afb1f4c9e75f3acf013e4d1d","line":"  this._chunkSize = opts.chunkSize || exports.Z_DEFAULT_CHUNK;","num":175},{"hash":"24001c274fb639c9ed4dde4f801eb743ecaf730d","line":"  this._buffer = new Buffer(this._chunkSize);","num":176},{"hash":"1a2cd0f442407f4a3049ceb55d5b03eb6fb834ef","line":"  this._offset = 0;","num":177},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":178},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":179},{"hash":"e923d03c1f92163ceeeab36042edc99ab54d2ce7","line":"  this._binding.onData = function(c) {","num":180},{"hash":"bb923a6c2b6f179b37d20e800f9df66c34dbc13b","line":"    self.emit('data', c);","num":181},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"  };","num":182},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":183},{"hash":"f20bd51ec64dacef1673ec21f4759be23572a626","line":"  this._binding.onEnd = function() {","num":184},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":185},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"  };","num":186},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":187},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":188},{"hash":"d7a5461302e8abf7a5a89d0265e435b562f852be","line":"util.inherits(Zlib, stream.Stream);","num":189},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":190},{"hash":"def7261ecafd4f6c16f2d2f7e31ea0c2918aa729","line":"Zlib.prototype.write = function write(chunk, cb) {","num":191},{"hash":"8e035c4022759ad273ec82d4d7266294a1a49392","line":"  if (this._ended) {","num":192},{"hash":"4401714e48626689dd0f6136161fc8da15ea558b","line":"    return this.emit('error', new Error('Cannot write after end'));","num":193},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":194},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":195},{"hash":"f25638abf90ba2eba18d0ab92b1e2fe54f1ff54d","line":"  if (arguments.length === 1 && typeof chunk === 'function') {","num":196},{"hash":"8e24f88e347c3d3796135016c2f968575588b390","line":"    cb = chunk;","num":197},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":198},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":199},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":200},{"hash":"0e3a49b755c70340d70ea0d11b7810d6a0b4651d","line":"  if (!chunk) {","num":201},{"hash":"d05fa4755832a24ef5875465014681c9debda93a","line":"    chunk = null;","num":202},{"hash":"59b86e7284175be2d875191791a7493d2bd38c1a","line":"  } else if (typeof chunk === 'string') {","num":203},{"hash":"f1bd6d39ac159c509b381db8bb2798dfc797ec10","line":"    chunk = new Buffer(chunk);","num":204},{"hash":"e819f26b4fb20d507c082966b91e09d7ed8a6a09","line":"  } else if (!Buffer.isBuffer(chunk)) {","num":205},{"hash":"ecb5e1bae4d17769e2531234e378e978a969c7d4","line":"    return this.emit('error', new Error('Invalid argument'));","num":206},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":207},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":208},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":209},{"hash":"bbf048f7bf09cf0eb4ac11cff7d04550713ae8b1","line":"  var empty = this._queue.length === 0;","num":210},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":211},{"hash":"01bb09a0805cc3d5c230ff2d473197f5635d29e9","line":"  this._queue.push([chunk, cb]);","num":212},{"hash":"a4e7856c428329270c7621e6b32a397f677daa5f","line":"  this._process();","num":213},{"hash":"d7258bcf96ba768a5c766ed3bcb37b8667c98ddf","line":"  if (!empty) {","num":214},{"hash":"21e85ab1e068a23d5cb8f045c54552acdc83bd24","line":"    this._needDrain = true;","num":215},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":216},{"hash":"1caf5b922ae52d68aed2d7e638d421d296bd2241","line":"  return empty;","num":217},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":218},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":219},{"hash":"4798fbed88d708bc1f007108943c560118755f6d","line":"Zlib.prototype.flush = function flush(cb) {","num":220},{"hash":"cb83e7dadff8cd31ae30283d1d71f8856af03181","line":"  this._flush = binding.Z_SYNC_FLUSH;","num":221},{"hash":"b9c3e30cf1dd24d0d38de0d379a3ecc97939d6ba","line":"  return this.write(cb);","num":222},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":223},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":224},{"hash":"88c0d5792f8f3930c87974837401dd742c3b5410","line":"Zlib.prototype.end = function end(chunk, cb) {","num":225},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":226},{"hash":"07847645a8b8631248179d10e160decb8e355733","line":"  this._ending = true;","num":227},{"hash":"a9719bacb4ceb8aa8287f1728ffda0e19bce620b","line":"  var ret = this.write(chunk, function() {","num":228},{"hash":"9e7325319d6e8dac82955f163caffd2c3f6c19d7","line":"    self.emit('end');","num":229},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":230},{"hash":"fe84c857229782f7dcc3bde466c5c32b4221072d","line":"  });","num":231},{"hash":"43bace0343ab2fb13a6dea0fb65721fd3a8ed2c2","line":"  this._ended = true;","num":232},{"hash":"95c52e2269235d0cc4d5e84fb0013d12f8da29a7","line":"  return ret;","num":233},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":234},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":235},{"hash":"b427f7b87a171bfc3eca27bcbe49338eb61ce18a","line":"Zlib.prototype._process = function() {","num":236},{"hash":"d1984bb58a80fe19fd735e0a3a674246a9e56d1b","line":"  if (this._processing || this._paused) return;","num":237},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":238},{"hash":"2904b1d770522c96cd1afaea4c24079839da80b2","line":"  if (this._queue.length === 0) {","num":239},{"hash":"0dd55380dd8e3ab24d5a6e1a611e9f258a2a68bf","line":"    if (this._needDrain) {","num":240},{"hash":"e2d2b39a5b7210f386bd53d544680cf18a2bf8f4","line":"      this._needDrain = false;","num":241},{"hash":"7703a4c15f3d331cd1d97df9efb30a889eb5e56b","line":"      this.emit('drain');","num":242},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":243},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"    return;","num":244},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":245},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":246},{"hash":"6933b7bf6df9b6f9a0d169e6909a6830408430ec","line":"  var req = this._queue.shift();","num":247},{"hash":"a61201d56fa93972e05cd010869a3c75b1d4101e","line":"  var cb = req.pop();","num":248},{"hash":"76fbabafb4c930410ecf99c3bdb10b273b794489","line":"  var chunk = req.pop();","num":249},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":250},{"hash":"37447aa6da1b2d32d8d7574e5a2272c9332633ce","line":"  if (this._ending && this._queue.length === 0) {","num":251},{"hash":"864a2a8e99860b6b002403b60561cedaf0cb6a35","line":"    this._flush = binding.Z_FINISH;","num":252},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":253},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":254},{"hash":"d8d4650eb6ba0759bff42a57e4da3e8e51ce6306","line":"  var self = this;","num":255},{"hash":"53832a837be2613048eb0f3fe2563b72f19b9395","line":"  var availInBefore = chunk && chunk.length;","num":256},{"hash":"732723a5cc4583e958794a7523cf5a9238fefc16","line":"  var availOutBefore = this._chunkSize - this._offset;","num":257},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":258},{"hash":"e86f5661e2a8902320e8d37f2112b6f310148aa2","line":"  var inOff = 0;","num":259},{"hash":"7e7fbc2fcd84b02c8337bff746e16c658606a0c1","line":"  var req = this._binding.write(this._flush,","num":260},{"hash":"b31238af904af109f2dde2ed447290d8631744a9","line":"                                chunk, // in","num":261},{"hash":"c7ec641db7b05737010010d2c985bc026d86cd89","line":"                                inOff, // in_off","num":262},{"hash":"b0d8638a48da31504bec3369ddc6758b27798a7f","line":"                                availInBefore, // in_len","num":263},{"hash":"94aa415dfc038ef6f4947c5a638f71469ae2d0f4","line":"                                this._buffer, // out","num":264},{"hash":"26bf0cc941173310317a881ae3b3dda916a86888","line":"                                this._offset, //out_off","num":265},{"hash":"005445015d3d289b986d56833e0865b248634a12","line":"                                availOutBefore); // out_len","num":266},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":267},{"hash":"46f2405e4e20dc223e7fc457a337861d09fada9e","line":"  req.buffer = chunk;","num":268},{"hash":"12ab057cc856c7aba8a890a1adafcef9d75bd326","line":"  req.callback = callback;","num":269},{"hash":"a9a4728ba76cc58954cb8bee7d6dd9ebda1be3f6","line":"  this._processing = req;","num":270},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":271},{"hash":"e92a9019391dd43f971fc180dcb2d235829f9ba0","line":"  function callback(availInAfter, availOutAfter) {","num":272},{"hash":"1f96ab55577ea0e7ab8b65ddec556685cdac3bf4","line":"    var have = self.chunkSize - availOutAfter;","num":273},{"hash":"c90eee6b4aef3fed2535ca8f3f1806bcab98f702","line":"    if (have > 0) {","num":274},{"hash":"a3e845bf97ffcfa378ae5aa76e8f6f725b2f2157","line":"      var out = self._buffer.slice(self._offset, self._offset + have);","num":275},{"hash":"1c9012bcc3cdd3caaca63157fa688620c697a251","line":"      self._offset += have;","num":276},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":277},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":278},{"hash":"9f83c479a58e5e99826c0d39ac4b1c327ea67411","line":"    // XXX Maybe have a 'min buffer' size so we don't dip into the","num":279},{"hash":"e334b000c3406b9842b36dc48f493eb240aa97fb","line":"    // thread pool with only 1 byte available or something?","num":280},{"hash":"00a55aeb9931eb9f66de13332d5a4f4d705c05a9","line":"    if (availOutAfter === 0 || self._offset >= self._chunkSize) {","num":281},{"hash":"8f27c768279b051c7288f329aee1d0a8c829b0e0","line":"      self._offset = 0;","num":282},{"hash":"83920ee436d7a87554aad0b709d14cb26264f3be","line":"      self._buffer = new Buffer(self._chunkSize);","num":283},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":284},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":285},{"hash":"30a82c4ef7dcc251fdf98427213376f43f1a2637","line":"    if (availOutAfter === 0) {","num":286},{"hash":"e186b5c6e59271fef6c646da0986e78fb8621266","line":"      // Not actually done.  Need to reprocess.","num":287},{"hash":"1356f5d970569f637b0fe492792b3b8857c3eeca","line":"      inOff += (availInBefore - availInAfter);","num":288},{"hash":"fe362d2e7c432ff89d6071eccc9eb9a2f426d9e1","line":"      var newReq = self._binding.write(self._flush,","num":289},{"hash":"9a09b033dc743fb6242dfbb6ba81b961e3fc3e65","line":"                                       chunk,","num":290},{"hash":"4896504cd0c5ac7ed371dba26df503c0fee2099f","line":"                                       inOff,","num":291},{"hash":"fe6f041f7264a59eb61d14694ebd76a306c76c56","line":"                                       availInAfter,","num":292},{"hash":"c23047c106ba8a7b520d20b7b8519899ac0e66f2","line":"                                       self._buffer,","num":293},{"hash":"2114d759a20dd5084d4fedae07cc656b88a14496","line":"                                       self._offset,","num":294},{"hash":"533b14b3d9461531aa18faa34be69cf0da6fdfc0","line":"                                       self._chunkSize);","num":295},{"hash":"3b14b18dad999701ddbbf1a65ce918ada9beaa0e","line":"      newReq.callback = callback; // this same function","num":296},{"hash":"3e629b670efd1efbd70f794e2acd656b7e84effe","line":"      newReq.buffer = chunk;","num":297},{"hash":"182f3e71935186bab75b03a901d217756b81807c","line":"      self._processing = newReq;","num":298},{"hash":"8ed85277ffd4dbe94454c22b369277df3d50ba94","line":"      return;","num":299},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"    }","num":300},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":301},{"hash":"5cee13b1f1fccd0f71f52ca53ea87878bfeb0683","line":"    // finished with the chunk.","num":302},{"hash":"fa2fcbc7669dd76c64cb702f422b2a9be39ffd53","line":"    self._processing = false;","num":303},{"hash":"4f55c43050e7675f5760acce083a97b11727ce49","line":"    if (cb) cb();","num":304},{"hash":"258071d5f3e2d77b06074a74de12f769565f495b","line":"    self._process();","num":305},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"  }","num":306},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":307},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":308},{"hash":"ea31909d1e128410908f1398bb587c4f92100ee5","line":"Zlib.prototype.pause = function() {","num":309},{"hash":"0155a4bc4a7d79e55217888472a95837712f697b","line":"  this._paused = true;","num":310},{"hash":"1356caa91f7c28006fc429dd324d0417b0e3eb43","line":"  this.emit('pause');","num":311},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":312},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":313},{"hash":"2d6d153109debb15afeaf4a53efed1083ff2c302","line":"Zlib.prototype.resume = function() {","num":314},{"hash":"9f6e6d08073b9ec11a8c6f666422d2dc30c533a8","line":"  this._paused = false;","num":315},{"hash":"509f7dba00b8fc438b7ede729dac90436d4ab7ff","line":"  this.emit('resume');","num":316},{"hash":"479fc7c06b96a0acf32bee5c77ee38370a6414c9","line":"};","num":317},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":318},{"hash":"0310df482b357199d3b1791db00d13bb194c52c3","line":"util.inherits(Deflate, Zlib);","num":319},{"hash":"53f20b493c24388a55dc46c7eb8758518b8e04fd","line":"util.inherits(Inflate, Zlib);","num":320},{"hash":"81ad83040589c727f902e8b905baebe83901ce7b","line":"util.inherits(Gzip, Zlib);","num":321},{"hash":"f8cc7e6397df60df5af7100ed77589688e4006a5","line":"util.inherits(Gunzip, Zlib);","num":322},{"hash":"4ab4dc560cf95b5620214ee7e7440136e5527cce","line":"util.inherits(DeflateRaw, Zlib);","num":323},{"hash":"7ae6192724e4d643832f01287a652172c675d9cd","line":"util.inherits(InflateRaw, Zlib);","num":324},{"hash":"b6bd932a66a48186d4a53ac3a79a231f1cd921e7","line":"util.inherits(Unzip, Zlib);","num":325}]}]
    </script>
    <script type="text/javascript">
        DJANGO_DATA =
[{"idx":0,"commit":"e5bebfcea785973bc69654124d9dd61d002c2830","msg":"Fixed #9988 (again) -- Updated list of Associated Press months names to use a translation context. Thanks, Claude Paroz.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@15280 bcc190cf-cafb-0310-a4f2-bffc1f526a37","data":[{"hash":"87f26f94fb2ab2c242cd923e2c2cae5f060d097a","line":"\"Commonly-used date structures\"","num":1},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":2},{"hash":"5c9be5080ffd349a56ea45e442949be4daa7e9f2","line":"from django.utils.translation import ugettext_lazy as _, pgettext_lazy","num":3},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":4},{"hash":"7d567da910e15cd527e356c7da271fac17677349","line":"WEEKDAYS = {","num":5},{"hash":"760b9c5f8f38ca4de733995f0d9b457de45378bf","line":"    0:_('Monday'), 1:_('Tuesday'), 2:_('Wednesday'), 3:_('Thursday'), 4:_('Friday'),","num":6},{"hash":"cbafb25678196202fdbdd9361e0c80bf646bf1e5","line":"    5:_('Saturday'), 6:_('Sunday')","num":7},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":8},{"hash":"b978d0130470ef36cd22739f8bb37c300e6a8e3c","line":"WEEKDAYS_ABBR = {","num":9},{"hash":"cf5fd288511225effa2b165903a7df946c46dd00","line":"    0:_('Mon'), 1:_('Tue'), 2:_('Wed'), 3:_('Thu'), 4:_('Fri'),","num":10},{"hash":"f0db114731414ed6adf481c1465a6cede25f79a1","line":"    5:_('Sat'), 6:_('Sun')","num":11},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":12},{"hash":"66ddc356c5fac0cf43c4a989d939908a7566a6aa","line":"WEEKDAYS_REV = {","num":13},{"hash":"99be76607d5e4268a390efebd38b3546a1874bc7","line":"    'monday':0, 'tuesday':1, 'wednesday':2, 'thursday':3, 'friday':4,","num":14},{"hash":"9b91f8300c0caca227272d7cf1856f72237d5a23","line":"    'saturday':5, 'sunday':6","num":15},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":16},{"hash":"ffe53b1f8cd7602a6f1928dfeeddf88dcc95659c","line":"MONTHS = {","num":17},{"hash":"8c8996bec1f14bb762c1e74cc49b9256be570e95","line":"    1:_('January'), 2:_('February'), 3:_('March'), 4:_('April'), 5:_('May'), 6:_('June'),","num":18},{"hash":"4fd571c8062751c22e55ffe4f017ac0fb3b8f405","line":"    7:_('July'), 8:_('August'), 9:_('September'), 10:_('October'), 11:_('November'),","num":19},{"hash":"90138fce0f443f97db776b6d2a504867a78e5641","line":"    12:_('December')","num":20},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":21},{"hash":"6df80e5646760bc336e938d7a686be44c22c95f3","line":"MONTHS_3 = {","num":22},{"hash":"1d8da2a667b425835675e6db1cde511f0f2a85d2","line":"    1:_('jan'), 2:_('feb'), 3:_('mar'), 4:_('apr'), 5:_('may'), 6:_('jun'),","num":23},{"hash":"58f0146c586b933654a9c164684739c4ef714e5d","line":"    7:_('jul'), 8:_('aug'), 9:_('sep'), 10:_('oct'), 11:_('nov'), 12:_('dec')","num":24},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":25},{"hash":"9c9ec24798ff54d7875a9bd57d0c9e85f69cd624","line":"MONTHS_3_REV = {","num":26},{"hash":"47032198984b34f9aa53f4a76cd8db3cba3e4863","line":"    'jan':1, 'feb':2, 'mar':3, 'apr':4, 'may':5, 'jun':6, 'jul':7, 'aug':8,","num":27},{"hash":"c9d9c28322036c93c2f17a864523b3a5401a39f1","line":"    'sep':9, 'oct':10, 'nov':11, 'dec':12","num":28},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":29},{"hash":"7bae49637bcfbc87f98bae7e7cfa91d308376039","line":"MONTHS_AP = { # month names in Associated Press style","num":30},{"hash":"77d85899ac1d5bfa378c0bd0ff68838b7343d63e","line":"    1: pgettext_lazy('abbrev. month', 'Jan.'),","num":31},{"hash":"5c8546f61813d27c74fe98c0b316dab15baa8aab","line":"    2: pgettext_lazy('abbrev. month', 'Feb.'),","num":32},{"hash":"2901ca894904e3a38fab1c20ce59c3aa3d50d154","line":"    3: pgettext_lazy('abbrev. month', 'March'),","num":33},{"hash":"1eb6fd46cca159cdb9bef443dd7f80470d62d9d8","line":"    4: pgettext_lazy('abbrev. month', 'April'),","num":34},{"hash":"261935be95913dea595a5208d9b23ff88c485f08","line":"    5: pgettext_lazy('abbrev. month', 'May'),","num":35},{"hash":"8278a1927ca5c5ae4bb2b621d9d42da205534f15","line":"    6: pgettext_lazy('abbrev. month', 'June'),","num":36},{"hash":"d0b28ce258aa863393569a0577ce04040a4a146c","line":"    7: pgettext_lazy('abbrev. month', 'July'),","num":37},{"hash":"51bd885d10039f99132d4336c208185809215c23","line":"    8: pgettext_lazy('abbrev. month', 'Aug.'),","num":38},{"hash":"8731d7faa3a4bfd7fd6628c97c83519ec544c9ff","line":"    9: pgettext_lazy('abbrev. month', 'Sept.'),","num":39},{"hash":"f4265f18cca9edaf59067cc0f60023be0649ed59","line":"    10: pgettext_lazy('abbrev. month', 'Oct.'),","num":40},{"hash":"b4acad171c0bce838696ea664498ee8ba2c511c8","line":"    11: pgettext_lazy('abbrev. month', 'Nov.'),","num":41},{"hash":"e20d2d9e4a2639ae00440cdbcfeed32750a8ab91","line":"    12: pgettext_lazy('abbrev. month', 'Dec.')","num":42},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":43},{"hash":"b25f3eb3e99aa2472e6a51ef03455c98b280021c","line":"MONTHS_ALT = { # required for long date representation by some locales","num":44},{"hash":"69f18c5bfacbe20e17d910e7b9e6277ae9c77675","line":"    1: pgettext_lazy('alt. month', 'January'),","num":45},{"hash":"d90beb8a4a8715052eff88fe05b4098275891b8b","line":"    2: pgettext_lazy('alt. month', 'February'),","num":46},{"hash":"8c543268b605a26caa0a79cd5aec2ad3e173aeb0","line":"    3: pgettext_lazy('alt. month', 'March'),","num":47},{"hash":"4a2827df143b2226022210b172b0f9ace85e5837","line":"    4: pgettext_lazy('alt. month', 'April'),","num":48},{"hash":"8eb98fc30d035f071d1fa2253e6933c3ea1cc3e7","line":"    5: pgettext_lazy('alt. month', 'May'),","num":49},{"hash":"02c90d3ba15b5e97b3bf6fe79354940103d40e9a","line":"    6: pgettext_lazy('alt. month', 'June'),","num":50},{"hash":"75a577813efa42c6b04eff452b9733a80d9ed285","line":"    7: pgettext_lazy('alt. month', 'July'),","num":51},{"hash":"d8b7632b63b06d742963ed230db3c752b3dfac59","line":"    8: pgettext_lazy('alt. month', 'August'),","num":52},{"hash":"ced586b5980b87ea12ac9cdb9c6d6ca15a4d50c7","line":"    9: pgettext_lazy('alt. month', 'September'),","num":53},{"hash":"3a051b6a2b6730766bebfbeb7eda5c23ddf2502d","line":"    10: pgettext_lazy('alt. month', 'October'),","num":54},{"hash":"af8ce7c1887b713f18c7b3103d2a1203e6da74e5","line":"    11: pgettext_lazy('alt. month', 'November'),","num":55},{"hash":"0ecd121f41cf396bc71a8e22087f1eced0d07091","line":"    12: pgettext_lazy('alt. month', 'December')","num":56},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":57}]},{"idx":1,"commit":"52864538351e97ed1480852821cb186b2923480a","msg":"Fixed #14570 -- Added new date format character for alternative month names using the new context capabilities. Also add context to Associated Press style month names (refs #9988). Thanks to Claude and shell_dweller.\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@14899 bcc190cf-cafb-0310-a4f2-bffc1f526a37","data":[{"hash":"87f26f94fb2ab2c242cd923e2c2cae5f060d097a","line":"\"Commonly-used date structures\"","num":1},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":2},{"hash":"5c9be5080ffd349a56ea45e442949be4daa7e9f2","line":"from django.utils.translation import ugettext_lazy as _, pgettext_lazy","num":3},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":4},{"hash":"7d567da910e15cd527e356c7da271fac17677349","line":"WEEKDAYS = {","num":5},{"hash":"760b9c5f8f38ca4de733995f0d9b457de45378bf","line":"    0:_('Monday'), 1:_('Tuesday'), 2:_('Wednesday'), 3:_('Thursday'), 4:_('Friday'),","num":6},{"hash":"cbafb25678196202fdbdd9361e0c80bf646bf1e5","line":"    5:_('Saturday'), 6:_('Sunday')","num":7},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":8},{"hash":"b978d0130470ef36cd22739f8bb37c300e6a8e3c","line":"WEEKDAYS_ABBR = {","num":9},{"hash":"cf5fd288511225effa2b165903a7df946c46dd00","line":"    0:_('Mon'), 1:_('Tue'), 2:_('Wed'), 3:_('Thu'), 4:_('Fri'),","num":10},{"hash":"f0db114731414ed6adf481c1465a6cede25f79a1","line":"    5:_('Sat'), 6:_('Sun')","num":11},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":12},{"hash":"66ddc356c5fac0cf43c4a989d939908a7566a6aa","line":"WEEKDAYS_REV = {","num":13},{"hash":"99be76607d5e4268a390efebd38b3546a1874bc7","line":"    'monday':0, 'tuesday':1, 'wednesday':2, 'thursday':3, 'friday':4,","num":14},{"hash":"9b91f8300c0caca227272d7cf1856f72237d5a23","line":"    'saturday':5, 'sunday':6","num":15},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":16},{"hash":"ffe53b1f8cd7602a6f1928dfeeddf88dcc95659c","line":"MONTHS = {","num":17},{"hash":"8c8996bec1f14bb762c1e74cc49b9256be570e95","line":"    1:_('January'), 2:_('February'), 3:_('March'), 4:_('April'), 5:_('May'), 6:_('June'),","num":18},{"hash":"4fd571c8062751c22e55ffe4f017ac0fb3b8f405","line":"    7:_('July'), 8:_('August'), 9:_('September'), 10:_('October'), 11:_('November'),","num":19},{"hash":"90138fce0f443f97db776b6d2a504867a78e5641","line":"    12:_('December')","num":20},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":21},{"hash":"6df80e5646760bc336e938d7a686be44c22c95f3","line":"MONTHS_3 = {","num":22},{"hash":"1d8da2a667b425835675e6db1cde511f0f2a85d2","line":"    1:_('jan'), 2:_('feb'), 3:_('mar'), 4:_('apr'), 5:_('may'), 6:_('jun'),","num":23},{"hash":"58f0146c586b933654a9c164684739c4ef714e5d","line":"    7:_('jul'), 8:_('aug'), 9:_('sep'), 10:_('oct'), 11:_('nov'), 12:_('dec')","num":24},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":25},{"hash":"9c9ec24798ff54d7875a9bd57d0c9e85f69cd624","line":"MONTHS_3_REV = {","num":26},{"hash":"47032198984b34f9aa53f4a76cd8db3cba3e4863","line":"    'jan':1, 'feb':2, 'mar':3, 'apr':4, 'may':5, 'jun':6, 'jul':7, 'aug':8,","num":27},{"hash":"c9d9c28322036c93c2f17a864523b3a5401a39f1","line":"    'sep':9, 'oct':10, 'nov':11, 'dec':12","num":28},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":29},{"hash":"7bae49637bcfbc87f98bae7e7cfa91d308376039","line":"MONTHS_AP = { # month names in Associated Press style","num":30},{"hash":"dbac3ae69c2125d8566dcc7c23128e37fd61e571","line":"    1:_('Jan.'), 2:_('Feb.'), 3:_('March'), 4:_('April'), 5:_('May'), 6:_('June'), 7:_('July'),","num":31},{"hash":"fd0c9c932239984ccdebec718e493a0f8e27e6bd","line":"    8:_('Aug.'), 9:_('Sept.'), 10:_('Oct.'), 11:_('Nov.'), 12:_('Dec.')","num":32},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":33},{"hash":"b25f3eb3e99aa2472e6a51ef03455c98b280021c","line":"MONTHS_ALT = { # required for long date representation by some locales","num":34},{"hash":"69f18c5bfacbe20e17d910e7b9e6277ae9c77675","line":"    1: pgettext_lazy('alt. month', 'January'),","num":35},{"hash":"d90beb8a4a8715052eff88fe05b4098275891b8b","line":"    2: pgettext_lazy('alt. month', 'February'),","num":36},{"hash":"8c543268b605a26caa0a79cd5aec2ad3e173aeb0","line":"    3: pgettext_lazy('alt. month', 'March'),","num":37},{"hash":"4a2827df143b2226022210b172b0f9ace85e5837","line":"    4: pgettext_lazy('alt. month', 'April'),","num":38},{"hash":"8eb98fc30d035f071d1fa2253e6933c3ea1cc3e7","line":"    5: pgettext_lazy('alt. month', 'May'),","num":39},{"hash":"02c90d3ba15b5e97b3bf6fe79354940103d40e9a","line":"    6: pgettext_lazy('alt. month', 'June'),","num":40},{"hash":"75a577813efa42c6b04eff452b9733a80d9ed285","line":"    7: pgettext_lazy('alt. month', 'July'),","num":41},{"hash":"d8b7632b63b06d742963ed230db3c752b3dfac59","line":"    8: pgettext_lazy('alt. month', 'August'),","num":42},{"hash":"ced586b5980b87ea12ac9cdb9c6d6ca15a4d50c7","line":"    9: pgettext_lazy('alt. month', 'September'),","num":43},{"hash":"3a051b6a2b6730766bebfbeb7eda5c23ddf2502d","line":"    10: pgettext_lazy('alt. month', 'October'),","num":44},{"hash":"af8ce7c1887b713f18c7b3103d2a1203e6da74e5","line":"    11: pgettext_lazy('alt. month', 'November'),","num":45},{"hash":"0ecd121f41cf396bc71a8e22087f1eced0d07091","line":"    12: pgettext_lazy('alt. month', 'December')","num":46},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":47}]},{"idx":2,"commit":"72d2b607d7d2edbecde22517cd3fe2af36e75255","msg":"Merged Unicode branch into trunk (r4952:5608). This should be fully\nbackwards compatible for all practical purposes.\n\nFixed #2391, #2489, #2996, #3322, #3344, #3370, #3406, #3432, #3454, #3492, #3582, #3690, #3878, #3891, #3937, #4039, #4141, #4227, #4286, #4291, #4300, #4452, #4702\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@5609 bcc190cf-cafb-0310-a4f2-bffc1f526a37","data":[{"hash":"87f26f94fb2ab2c242cd923e2c2cae5f060d097a","line":"\"Commonly-used date structures\"","num":1},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":2},{"hash":"668fbcdaa3cef919f5aa8f46fce9d5cc71146929","line":"from django.utils.translation import ugettext_lazy as _","num":3},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":4},{"hash":"7d567da910e15cd527e356c7da271fac17677349","line":"WEEKDAYS = {","num":5},{"hash":"760b9c5f8f38ca4de733995f0d9b457de45378bf","line":"    0:_('Monday'), 1:_('Tuesday'), 2:_('Wednesday'), 3:_('Thursday'), 4:_('Friday'),","num":6},{"hash":"cbafb25678196202fdbdd9361e0c80bf646bf1e5","line":"    5:_('Saturday'), 6:_('Sunday')","num":7},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":8},{"hash":"b978d0130470ef36cd22739f8bb37c300e6a8e3c","line":"WEEKDAYS_ABBR = {","num":9},{"hash":"cf5fd288511225effa2b165903a7df946c46dd00","line":"    0:_('Mon'), 1:_('Tue'), 2:_('Wed'), 3:_('Thu'), 4:_('Fri'),","num":10},{"hash":"f0db114731414ed6adf481c1465a6cede25f79a1","line":"    5:_('Sat'), 6:_('Sun')","num":11},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":12},{"hash":"66ddc356c5fac0cf43c4a989d939908a7566a6aa","line":"WEEKDAYS_REV = {","num":13},{"hash":"99be76607d5e4268a390efebd38b3546a1874bc7","line":"    'monday':0, 'tuesday':1, 'wednesday':2, 'thursday':3, 'friday':4,","num":14},{"hash":"9b91f8300c0caca227272d7cf1856f72237d5a23","line":"    'saturday':5, 'sunday':6","num":15},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":16},{"hash":"ffe53b1f8cd7602a6f1928dfeeddf88dcc95659c","line":"MONTHS = {","num":17},{"hash":"8c8996bec1f14bb762c1e74cc49b9256be570e95","line":"    1:_('January'), 2:_('February'), 3:_('March'), 4:_('April'), 5:_('May'), 6:_('June'),","num":18},{"hash":"4fd571c8062751c22e55ffe4f017ac0fb3b8f405","line":"    7:_('July'), 8:_('August'), 9:_('September'), 10:_('October'), 11:_('November'),","num":19},{"hash":"90138fce0f443f97db776b6d2a504867a78e5641","line":"    12:_('December')","num":20},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":21},{"hash":"6df80e5646760bc336e938d7a686be44c22c95f3","line":"MONTHS_3 = {","num":22},{"hash":"1d8da2a667b425835675e6db1cde511f0f2a85d2","line":"    1:_('jan'), 2:_('feb'), 3:_('mar'), 4:_('apr'), 5:_('may'), 6:_('jun'),","num":23},{"hash":"58f0146c586b933654a9c164684739c4ef714e5d","line":"    7:_('jul'), 8:_('aug'), 9:_('sep'), 10:_('oct'), 11:_('nov'), 12:_('dec')","num":24},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":25},{"hash":"9c9ec24798ff54d7875a9bd57d0c9e85f69cd624","line":"MONTHS_3_REV = {","num":26},{"hash":"47032198984b34f9aa53f4a76cd8db3cba3e4863","line":"    'jan':1, 'feb':2, 'mar':3, 'apr':4, 'may':5, 'jun':6, 'jul':7, 'aug':8,","num":27},{"hash":"c9d9c28322036c93c2f17a864523b3a5401a39f1","line":"    'sep':9, 'oct':10, 'nov':11, 'dec':12","num":28},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":29},{"hash":"7bae49637bcfbc87f98bae7e7cfa91d308376039","line":"MONTHS_AP = { # month names in Associated Press style","num":30},{"hash":"dbac3ae69c2125d8566dcc7c23128e37fd61e571","line":"    1:_('Jan.'), 2:_('Feb.'), 3:_('March'), 4:_('April'), 5:_('May'), 6:_('June'), 7:_('July'),","num":31},{"hash":"fd0c9c932239984ccdebec718e493a0f8e27e6bd","line":"    8:_('Aug.'), 9:_('Sept.'), 10:_('Oct.'), 11:_('Nov.'), 12:_('Dec.')","num":32},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":33}]},{"idx":3,"commit":"a0daf414d849673880ab39edc6d52d5d1bd51b6b","msg":"fixed #1817: added translation hooks for 3-letter month names\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@2912 bcc190cf-cafb-0310-a4f2-bffc1f526a37","data":[{"hash":"87f26f94fb2ab2c242cd923e2c2cae5f060d097a","line":"\"Commonly-used date structures\"","num":1},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":2},{"hash":"d8abdf97038b7242f0d1cd0277e9adf447339a79","line":"from django.utils.translation import gettext_lazy as _","num":3},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":4},{"hash":"7d567da910e15cd527e356c7da271fac17677349","line":"WEEKDAYS = {","num":5},{"hash":"760b9c5f8f38ca4de733995f0d9b457de45378bf","line":"    0:_('Monday'), 1:_('Tuesday'), 2:_('Wednesday'), 3:_('Thursday'), 4:_('Friday'),","num":6},{"hash":"cbafb25678196202fdbdd9361e0c80bf646bf1e5","line":"    5:_('Saturday'), 6:_('Sunday')","num":7},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":8},{"hash":"66ddc356c5fac0cf43c4a989d939908a7566a6aa","line":"WEEKDAYS_REV = {","num":9},{"hash":"99be76607d5e4268a390efebd38b3546a1874bc7","line":"    'monday':0, 'tuesday':1, 'wednesday':2, 'thursday':3, 'friday':4,","num":10},{"hash":"9b91f8300c0caca227272d7cf1856f72237d5a23","line":"    'saturday':5, 'sunday':6","num":11},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":12},{"hash":"ffe53b1f8cd7602a6f1928dfeeddf88dcc95659c","line":"MONTHS = {","num":13},{"hash":"8c8996bec1f14bb762c1e74cc49b9256be570e95","line":"    1:_('January'), 2:_('February'), 3:_('March'), 4:_('April'), 5:_('May'), 6:_('June'),","num":14},{"hash":"4fd571c8062751c22e55ffe4f017ac0fb3b8f405","line":"    7:_('July'), 8:_('August'), 9:_('September'), 10:_('October'), 11:_('November'),","num":15},{"hash":"90138fce0f443f97db776b6d2a504867a78e5641","line":"    12:_('December')","num":16},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":17},{"hash":"6df80e5646760bc336e938d7a686be44c22c95f3","line":"MONTHS_3 = {","num":18},{"hash":"1d8da2a667b425835675e6db1cde511f0f2a85d2","line":"    1:_('jan'), 2:_('feb'), 3:_('mar'), 4:_('apr'), 5:_('may'), 6:_('jun'),","num":19},{"hash":"58f0146c586b933654a9c164684739c4ef714e5d","line":"    7:_('jul'), 8:_('aug'), 9:_('sep'), 10:_('oct'), 11:_('nov'), 12:_('dec')","num":20},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":21},{"hash":"9c9ec24798ff54d7875a9bd57d0c9e85f69cd624","line":"MONTHS_3_REV = {","num":22},{"hash":"47032198984b34f9aa53f4a76cd8db3cba3e4863","line":"    'jan':1, 'feb':2, 'mar':3, 'apr':4, 'may':5, 'jun':6, 'jul':7, 'aug':8,","num":23},{"hash":"c9d9c28322036c93c2f17a864523b3a5401a39f1","line":"    'sep':9, 'oct':10, 'nov':11, 'dec':12","num":24},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":25},{"hash":"7bae49637bcfbc87f98bae7e7cfa91d308376039","line":"MONTHS_AP = { # month names in Associated Press style","num":26},{"hash":"dbac3ae69c2125d8566dcc7c23128e37fd61e571","line":"    1:_('Jan.'), 2:_('Feb.'), 3:_('March'), 4:_('April'), 5:_('May'), 6:_('June'), 7:_('July'),","num":27},{"hash":"fd0c9c932239984ccdebec718e493a0f8e27e6bd","line":"    8:_('Aug.'), 9:_('Sept.'), 10:_('Oct.'), 11:_('Nov.'), 12:_('Dec.')","num":28},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":29}]},{"idx":4,"commit":"b51ed69da29fbc2fd1d39404216102334fdfd58e","msg":"Merged i18n branch into the trunk! Fixes #65, and perhaps some others. NB: this means that the i18n branch is now obsolete and will be made read-only.\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@1068 bcc190cf-cafb-0310-a4f2-bffc1f526a37","data":[{"hash":"87f26f94fb2ab2c242cd923e2c2cae5f060d097a","line":"\"Commonly-used date structures\"","num":1},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":2},{"hash":"d8abdf97038b7242f0d1cd0277e9adf447339a79","line":"from django.utils.translation import gettext_lazy as _","num":3},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":4},{"hash":"7d567da910e15cd527e356c7da271fac17677349","line":"WEEKDAYS = {","num":5},{"hash":"760b9c5f8f38ca4de733995f0d9b457de45378bf","line":"    0:_('Monday'), 1:_('Tuesday'), 2:_('Wednesday'), 3:_('Thursday'), 4:_('Friday'),","num":6},{"hash":"cbafb25678196202fdbdd9361e0c80bf646bf1e5","line":"    5:_('Saturday'), 6:_('Sunday')","num":7},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":8},{"hash":"66ddc356c5fac0cf43c4a989d939908a7566a6aa","line":"WEEKDAYS_REV = {","num":9},{"hash":"99be76607d5e4268a390efebd38b3546a1874bc7","line":"    'monday':0, 'tuesday':1, 'wednesday':2, 'thursday':3, 'friday':4,","num":10},{"hash":"9b91f8300c0caca227272d7cf1856f72237d5a23","line":"    'saturday':5, 'sunday':6","num":11},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":12},{"hash":"ffe53b1f8cd7602a6f1928dfeeddf88dcc95659c","line":"MONTHS = {","num":13},{"hash":"8c8996bec1f14bb762c1e74cc49b9256be570e95","line":"    1:_('January'), 2:_('February'), 3:_('March'), 4:_('April'), 5:_('May'), 6:_('June'),","num":14},{"hash":"4fd571c8062751c22e55ffe4f017ac0fb3b8f405","line":"    7:_('July'), 8:_('August'), 9:_('September'), 10:_('October'), 11:_('November'),","num":15},{"hash":"90138fce0f443f97db776b6d2a504867a78e5641","line":"    12:_('December')","num":16},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":17},{"hash":"6df80e5646760bc336e938d7a686be44c22c95f3","line":"MONTHS_3 = {","num":18},{"hash":"d640e4c9b6894cb0853650845f298d0c325e1dc1","line":"    1:'jan', 2:'feb', 3:'mar', 4:'apr', 5:'may', 6:'jun', 7:'jul', 8:'aug',","num":19},{"hash":"294648528a982aacbabc03dd65b2c597401c5c72","line":"    9:'sep', 10:'oct', 11:'nov', 12:'dec'","num":20},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":21},{"hash":"9c9ec24798ff54d7875a9bd57d0c9e85f69cd624","line":"MONTHS_3_REV = {","num":22},{"hash":"47032198984b34f9aa53f4a76cd8db3cba3e4863","line":"    'jan':1, 'feb':2, 'mar':3, 'apr':4, 'may':5, 'jun':6, 'jul':7, 'aug':8,","num":23},{"hash":"c9d9c28322036c93c2f17a864523b3a5401a39f1","line":"    'sep':9, 'oct':10, 'nov':11, 'dec':12","num":24},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":25},{"hash":"7bae49637bcfbc87f98bae7e7cfa91d308376039","line":"MONTHS_AP = { # month names in Associated Press style","num":26},{"hash":"dbac3ae69c2125d8566dcc7c23128e37fd61e571","line":"    1:_('Jan.'), 2:_('Feb.'), 3:_('March'), 4:_('April'), 5:_('May'), 6:_('June'), 7:_('July'),","num":27},{"hash":"fd0c9c932239984ccdebec718e493a0f8e27e6bd","line":"    8:_('Aug.'), 9:_('Sept.'), 10:_('Oct.'), 11:_('Nov.'), 12:_('Dec.')","num":28},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":29}]},{"idx":5,"commit":"33db6db21c39a4b5ed0cd3f4629e7391e36a94a7","msg":"Imported Django from private SVN repository (created from r. 8825)\n\n\ngit-svn-id: http://code.djangoproject.com/svn/django/trunk@3 bcc190cf-cafb-0310-a4f2-bffc1f526a37","data":[{"hash":"87f26f94fb2ab2c242cd923e2c2cae5f060d097a","line":"\"Commonly-used date structures\"","num":1},{"hash":"da39a3ee5e6b4b0d3255bfef95601890afd80709","line":"","num":2},{"hash":"7d567da910e15cd527e356c7da271fac17677349","line":"WEEKDAYS = {","num":3},{"hash":"b398ae15f227c3f12a7bd760cbf8055b840ba3bf","line":"    0:'Monday', 1:'Tuesday', 2:'Wednesday', 3:'Thursday', 4:'Friday',","num":4},{"hash":"869bdfb8dfbc960b4b027ea35a76c24f40acffb5","line":"    5:'Saturday', 6:'Sunday'","num":5},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":6},{"hash":"66ddc356c5fac0cf43c4a989d939908a7566a6aa","line":"WEEKDAYS_REV = {","num":7},{"hash":"99be76607d5e4268a390efebd38b3546a1874bc7","line":"    'monday':0, 'tuesday':1, 'wednesday':2, 'thursday':3, 'friday':4,","num":8},{"hash":"9b91f8300c0caca227272d7cf1856f72237d5a23","line":"    'saturday':5, 'sunday':6","num":9},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":10},{"hash":"ffe53b1f8cd7602a6f1928dfeeddf88dcc95659c","line":"MONTHS = {","num":11},{"hash":"5d912e71fd39775aac5e755458c93ee4a0ae3bc5","line":"    1:'January', 2:'February', 3:'March', 4:'April', 5:'May', 6:'June',","num":12},{"hash":"58971e79f903bc796f2a5c36fa9011c1dd1abbcc","line":"    7:'July', 8:'August', 9:'September', 10:'October', 11:'November',","num":13},{"hash":"7cdcebe02bc059bb268dc73475b706652608c232","line":"    12:'December'","num":14},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":15},{"hash":"6df80e5646760bc336e938d7a686be44c22c95f3","line":"MONTHS_3 = {","num":16},{"hash":"d640e4c9b6894cb0853650845f298d0c325e1dc1","line":"    1:'jan', 2:'feb', 3:'mar', 4:'apr', 5:'may', 6:'jun', 7:'jul', 8:'aug',","num":17},{"hash":"294648528a982aacbabc03dd65b2c597401c5c72","line":"    9:'sep', 10:'oct', 11:'nov', 12:'dec'","num":18},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":19},{"hash":"9c9ec24798ff54d7875a9bd57d0c9e85f69cd624","line":"MONTHS_3_REV = {","num":20},{"hash":"47032198984b34f9aa53f4a76cd8db3cba3e4863","line":"    'jan':1, 'feb':2, 'mar':3, 'apr':4, 'may':5, 'jun':6, 'jul':7, 'aug':8,","num":21},{"hash":"c9d9c28322036c93c2f17a864523b3a5401a39f1","line":"    'sep':9, 'oct':10, 'nov':11, 'dec':12","num":22},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":23},{"hash":"7bae49637bcfbc87f98bae7e7cfa91d308376039","line":"MONTHS_AP = { # month names in Associated Press style","num":24},{"hash":"610fe8f7f95ec3d814c0e07479be6781c89392e0","line":"    1:'Jan.', 2:'Feb.', 3:'March', 4:'April', 5:'May', 6:'June', 7:'July',","num":25},{"hash":"d7d0e39cb54a8edba7df8c5ec2a81349fd1d9882","line":"    8:'Aug.', 9:'Sept.', 10:'Oct.', 11:'Nov.', 12:'Dec.'","num":26},{"hash":"c2b7df6201fdd3362399091f0a29550df3505b6a","line":"}","num":27}]}]

    </script>
    <!--[if !IE]><script>fixScale(document);</script><!--<![endif]-->
    <script type="text/javascript">
        var require = {
              baseUrl:window.location.protocol+'//'+window.location.host+'/'
            , paths:{
                'd3':'https://raw.github.com/mbostock/d3/master/d3.v2.min'
              , 'local':window.location.protocol+'//'+window.location.host+window.location.pathname+'/media/js'
            }
        }
    </script>
    <script type="text/javascript" src="https://raw.github.com/jrburke/requirejs/master/require.js" data-main="local/main"></script>	
  </body>
</html>
